(()=>{var e={};e.id=464,e.ids=[464],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32871:(e,t,r)=>{"use strict";r.d(t,{w:()=>o});var s=r(72289);function o(e){let t="object"==typeof e.client?e.client:{},r="object"==typeof e.server?e.server:{},o=e.shared,n=e.runtimeEnv?e.runtimeEnv:{...process.env,...e.experimental__runtimeEnv};return function(e){let t=e.runtimeEnvStrict??e.runtimeEnv??process.env;if(e.emptyStringAsUndefined)for(let[e,r]of Object.entries(t))""===r&&delete t[e];if(e.skipValidation)return t;let r="object"==typeof e.client?e.client:{},o="object"==typeof e.server?e.server:{},n="object"==typeof e.shared?e.shared:{},a=s.Ik(r),i=s.Ik(o),l=s.Ik(n),c=e.isServer??"undefined"==typeof window,d=a.merge(l),u=i.merge(l).merge(a),p=c?u.safeParse(t):d.safeParse(t),g=e.onValidationError??(e=>{throw console.error("‚ùå Invalid environment variables:",e.flatten().fieldErrors),Error("Invalid environment variables")}),m=e.onInvalidAccess??(e=>{throw Error("‚ùå Attempted to access a server-side environment variable on the client")});return!1===p.success?g(p.error):new Proxy(p.data,{get(t,r){if("string"==typeof r&&"__esModule"!==r&&"$$typeof"!==r)return c||!e.clientPrefix||r.startsWith(e.clientPrefix)||void 0!==l.shape[r]?t[r]:m(r)}})}({...e,shared:o,client:t,server:r,clientPrefix:"NEXT_PUBLIC_",runtimeEnv:n})}},36059:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>v,routeModule:()=>p,serverHooks:()=>f,workAsyncStorage:()=>g,workUnitAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>u,POST:()=>d});var o=r(96559),n=r(48088),a=r(37719),i=r(32190),l=r(54263),c=r(71736);async function d(e){try{console.log("\uD83D\uDE80 Parallel Video Generation Test: Starting...");let{scenePrompts:t,customInputs:r=[],modelNames:s=Object(function(){var e=Error("Cannot find module '../../../shared/config/videoModels'");throw e.code="MODULE_NOT_FOUND",e}())()}=await e.json();if(!t||!Array.isArray(t))return i.NextResponse.json({error:"scenePrompts array is required"},{status:400});if(10!==t.length)return i.NextResponse.json({error:"Exactly 10 scene prompts are required for parallel generation"},{status:400});if(5!==s.length)return i.NextResponse.json({error:"Exactly 5 model names are required for parallel generation"},{status:400});if(!c._.REPLICATE_API_TOKEN)return i.NextResponse.json({error:"REPLICATE_API_TOKEN not configured"},{status:500});console.log(`üéØ Processing ${t.length} scenes with ${s.length} models`),console.log(`ü§ñ Models: ${s.join(", ")}`);let o=Object(function(){var e=Error("Cannot find module '../../../shared/config/videoModels'");throw e.code="MODULE_NOT_FOUND",e}())(s,2);console.log(`üí∞ Estimated cost: $${o.toFixed(2)}`);let n=[],a=await (0,l.Y)(t,5,2,s,r,e=>{console.log(`üìä Progress: ${e.stage} - ${e.completedScenes}/${e.totalScenes} scenes`),n.push({timestamp:new Date().toISOString(),stage:e.stage,completedScenes:e.completedScenes,failedScenes:e.failedScenes,currentAgent:e.currentAgent,agentProgress:e.agentProgress})});console.log(`‚úÖ Parallel generation completed!`),console.log(`üìä Results: ${a.sceneResults.filter(e=>e.success).length}/${a.sceneResults.length} scenes successful`),console.log(`‚è±Ô∏è Total processing time: ${a.totalProcessingTime}ms`),console.log(`üí∞ Actual cost: $${a.totalCost.toFixed(2)}`);let d=a.sceneResults.filter(e=>e.success),u=a.sceneResults.filter(e=>!e.success);return i.NextResponse.json({success:a.success,summary:{totalScenes:a.sceneResults.length,successfulScenes:d.length,failedScenes:u.length,totalProcessingTime:a.totalProcessingTime,actualCost:a.totalCost,estimatedCost:o,averageTimePerScene:Math.floor(a.totalProcessingTime/a.sceneResults.length)},sceneResults:a.sceneResults.map(e=>({sceneIndex:e.sceneIndex,prompt:e.prompt.substring(0,100)+"...",success:e.success,videoUrl:e.success?e.videoUrl:null,agentId:e.agentId,modelUsed:e.modelUsed,processingTime:e.processingTime,error:e.error})),agentResults:a.agentResults,progressUpdates:n,videoUrls:d.sort((e,t)=>e.sceneIndex-t.sceneIndex).map(e=>e.videoUrl),readyForStitcher:d.length>=8,error:a.error})}catch(e){return console.error("‚ùå Parallel generation test failed:",e),i.NextResponse.json({success:!1,error:"Parallel generation test failed",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function u(){return i.NextResponse.json({message:"AEON Parallel Video Generation Test API",description:"Test parallel generation of 10 video scenes using 5 agents (2 scenes per agent)",usage:{method:"POST",endpoint:"/api/video/parallel-test",body:{scenePrompts:"string[] (required) - Array of exactly 10 scene prompts",customInputs:"Record<number, any>[] (optional) - Custom inputs per scene",modelNames:"string[] (optional) - Array of 5 model names, defaults to all available models"}},models:Object(function(){var e=Error("Cannot find module '../../../shared/config/videoModels'");throw e.code="MODULE_NOT_FOUND",e}())(),estimatedCost:Object(function(){var e=Error("Cannot find module '../../../shared/config/videoModels'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module '../../../shared/config/videoModels'");throw e.code="MODULE_NOT_FOUND",e}())(),2),configuration:{agents:5,scenesPerAgent:2,totalScenes:10,parallelExecution:!0},example:{scenePrompts:["A cinematic shot of a lone astronaut on Mars","Close-up of alien technology glowing in the dark","Wide shot of a futuristic city at sunset","Macro shot of water droplets on a leaf","Time-lapse of clouds moving over mountains","Slow motion shot of a bird taking flight","Underwater scene with colorful fish","Night scene with stars and aurora","Abstract geometric patterns morphing","Final shot of Earth from space"],customInputs:[{first_frame_image:"https://example.com/frame1.jpg"},{aspect_ratio:"9:16"},{},{duration:4},{},{cfg_scale:8},{},{negative_prompt:"blurry, low quality"},{},{duration:6}]}})}!function(){var e=Error("Cannot find module '../../../shared/config/videoModels'");throw e.code="MODULE_NOT_FOUND",e}();let p=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/video/parallel-test/route",pathname:"/api/video/parallel-test",filename:"route",bundlePath:"app/api/video/parallel-test/route"},resolvedPagePath:"C:\\Users\\Administrator\\Elohim\\frontend\\app\\api\\video\\parallel-test\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:g,workUnitAsyncStorage:m,serverHooks:f}=p;function v(){return(0,a.patchFetch)({workAsyncStorage:g,workUnitAsyncStorage:m})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,580,2289,2419,596],()=>r(36059));module.exports=s})();