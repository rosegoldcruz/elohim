"use strict";(()=>{var e={};e.id=5243,e.ids=[5243],e.modules={2892:(e,r,t)=>{t.r(r),t.d(r,{patchFetch:()=>q,routeModule:()=>d,serverHooks:()=>x,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>g});var n={};t.r(n),t.d(n,{GET:()=>c,POST:()=>u});var s=t(96559),o=t(48088),i=t(37719),a=t(32190),p=t(6923);async function u(e){try{let{topic:r,tone:t="engaging",duration:n=60,platform:s="tiktok",sceneCount:o,streaming:i=!1,includeScenePlan:u=!1,trendPackage:c}=await e.json();if(!r&&!c)return a.NextResponse.json({error:"Topic or trend package is required"},{status:400});if(i){let e=new TextEncoder,n=new ReadableStream({async start(n){try{if(u&&c){let r=new p.sg,s=await r.createTikTokScriptAndScene(c,t,r=>{let t=JSON.stringify({type:"script_chunk",content:r});n.enqueue(e.encode(`data: ${t}

`))},r=>{let t=JSON.stringify({type:"scene_chunk",content:r});n.enqueue(e.encode(`data: ${t}

`))}),o=JSON.stringify({type:"complete",result:s});n.enqueue(e.encode(`data: ${o}

`))}else{let s=await (0,p.mw)(r,t),o=JSON.stringify({type:"complete",script:s});n.enqueue(e.encode(`data: ${o}

`))}n.close()}catch(t){let r=JSON.stringify({type:"error",error:t instanceof Error?t.message:"Unknown error"});n.enqueue(e.encode(`data: ${r}

`)),n.close()}}});return new Response(n,{headers:{"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive"}})}if(u&&c){let e=new p.sg,r=await e.createTikTokScriptAndScene(c,t);return a.NextResponse.json({success:!0,data:r,model_used:{script:"deepseek-chat",scenes:"gpt-4o"}})}{let e=await (0,p.mw)(r,t);return a.NextResponse.json({success:!0,data:{script:e},model_used:"gpt-4o",viral_techniques:["hook","storytelling","cta"],scene_count:e.scenes.length})}}catch(e){return console.error("DeepSeek script generation error:",e),a.NextResponse.json({error:"Script generation failed",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}async function c(){return a.NextResponse.json({message:"AEON DeepSeek Script Generation API",version:"1.0.0",features:["DeepSeek-powered script generation","Streaming support","Viral TikTok optimization","Unified script + scene pipeline","Real-time chunk delivery"],endpoints:{POST:{description:"Generate viral TikTok scripts",parameters:{topic:"string (required if no trendPackage)",trendPackage:"object (alternative to topic)",tone:"string (default: engaging)",duration:"number (default: 60)",platform:"string (default: tiktok)",sceneCount:"number (optional)",streaming:"boolean (default: false)",includeScenePlan:"boolean (default: false)"}}},examples:{basic:{topic:"AI video generation",tone:"entertaining",duration:60},streaming:{topic:"How to go viral on TikTok",streaming:!0,tone:"educational"},unified_pipeline:{trendPackage:{topic:"AI revolutionizing content",hashtags:["#AI","#Viral"],viral_elements:["trending audio"],target_audience:"content creators"},includeScenePlan:!0,streaming:!0}}})}let d=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/agents/deepseek-script/route",pathname:"/api/agents/deepseek-script",filename:"route",bundlePath:"app/api/agents/deepseek-script/route"},resolvedPagePath:"C:\\Users\\Administrator\\Elohim\\frontend\\app\\api\\agents\\deepseek-script\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:l,workUnitAsyncStorage:g,serverHooks:x}=d;function q(){return(0,i.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:g})}},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{e.exports=require("querystring")},11997:e=>{e.exports=require("punycode")},12412:e=>{e.exports=require("assert")},13440:e=>{e.exports=require("util/types")},23405:e=>{e.exports=require("@supabase/ssr")},27910:e=>{e.exports=require("stream")},28354:e=>{e.exports=require("util")},29021:e=>{e.exports=require("fs")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{e.exports=require("path")},34631:e=>{e.exports=require("tls")},36686:e=>{e.exports=require("diagnostics_channel")},37830:e=>{e.exports=require("node:stream/web")},41204:e=>{e.exports=require("string_decoder")},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},54287:e=>{e.exports=require("console")},55511:e=>{e.exports=require("crypto")},55591:e=>{e.exports=require("https")},57075:e=>{e.exports=require("node:stream")},57975:e=>{e.exports=require("node:util")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{e.exports=require("node:fs")},73496:e=>{e.exports=require("http2")},73566:e=>{e.exports=require("worker_threads")},74075:e=>{e.exports=require("zlib")},74998:e=>{e.exports=require("perf_hooks")},78474:e=>{e.exports=require("node:events")},79428:e=>{e.exports=require("buffer")},79551:e=>{e.exports=require("url")},79646:e=>{e.exports=require("child_process")},79748:e=>{e.exports=require("fs/promises")},81630:e=>{e.exports=require("http")},84297:e=>{e.exports=require("async_hooks")},91645:e=>{e.exports=require("net")},94175:e=>{e.exports=require("stream/web")},94735:e=>{e.exports=require("events")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[4447,580,2289,7478,1746,2419,4448,3010,596,4316,6923],()=>t(2892));module.exports=n})();