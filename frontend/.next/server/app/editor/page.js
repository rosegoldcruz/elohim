(()=>{var e={};e.id=6766,e.ids=[6766],e.modules={2943:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5336:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8819:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13847:(e,t,r)=>{Promise.resolve().then(r.bind(r,60181))},13943:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23405:e=>{"use strict";e.exports=require("@supabase/ssr")},25541:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31158:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},33873:e=>{"use strict";e.exports=require("path")},36058:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},37481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var n=r(65239),s=r(48088),l=r(88170),a=r.n(l),i=r(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c={children:["",{children:["editor",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,60181)),"C:\\Users\\Administrator\\Elohim\\frontend\\app\\editor\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58126)),"C:\\Users\\Administrator\\Elohim\\frontend\\app\\editor\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\Users\\Administrator\\Elohim\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,d=["C:\\Users\\Administrator\\Elohim\\frontend\\app\\editor\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/editor/page",pathname:"/editor",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},43649:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},45583:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},47158:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},48730:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},50639:(e,t,r)=>{Promise.resolve().then(r.bind(r,70917))},56085:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},58126:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>s});var n=r(37413);let s={title:"AEON Video Editor",description:"Professional video editing with AI assistance"};function l({children:e}){return(0,n.jsx)("div",{className:"h-screen overflow-hidden",children:e})}},58887:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},60181:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Administrator\\\\Elohim\\\\frontend\\\\app\\\\editor\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Administrator\\Elohim\\frontend\\app\\editor\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67760:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},70917:(e,t,r)=>{"use strict";let n;r.r(t),r.d(t,{default:()=>t8});var s,l,a,i,o,c,d,u,h,m,g=r(60687),x=r(43210),p=r.n(x),f=r(58887),b=r(47158),y=r(62688);(0,y.A)("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),(0,y.A)("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]),(0,y.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),(0,y.A)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);var v=r(85303),w=r(56085);(0,y.A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var j=r(2943),N=r(8819);let k=(0,y.A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var S=r(31158),A=r(45583);let C=(0,y.A)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var E=r(36058),M=r(97840),T=r(51215);let D="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function R(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function P(e){return"nodeType"in e}function I(e){var t,r;return e?R(e)?e:P(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function L(e){let{Document:t}=I(e);return e instanceof t}function U(e){return!R(e)&&e instanceof I(e).HTMLElement}function O(e){return e instanceof I(e).SVGElement}function _(e){return e?R(e)?e.document:P(e)?L(e)?e:U(e)||O(e)?e.ownerDocument:document:document:document}let F=D?x.useLayoutEffect:x.useEffect;function z(e){let t=(0,x.useRef)(e);return F(()=>{t.current=e}),(0,x.useCallback)(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function B(e,t){void 0===t&&(t=[e]);let r=(0,x.useRef)(e);return F(()=>{r.current!==e&&(r.current=e)},t),r}function G(e,t){let r=(0,x.useRef)();return(0,x.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function X(e){let t=z(e),r=(0,x.useRef)(null),n=(0,x.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,n]}function q(e){let t=(0,x.useRef)();return(0,x.useEffect)(()=>{t.current=e},[e]),t.current}let $={};function V(e,t){return(0,x.useMemo)(()=>{if(t)return t;let r=null==$[e]?0:$[e]+1;return $[e]=r,e+"-"+r},[e,t])}function Y(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((t,r)=>{for(let[n,s]of Object.entries(r)){let r=t[n];null!=r&&(t[n]=r+e*s)}return t},{...t})}}let W=Y(1),H=Y(-1);function K(e){if(!e)return!1;let{KeyboardEvent:t}=I(e.target);return t&&e instanceof t}function J(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=I(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let Z=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Z.Translate.toString(e),Z.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Q="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]",ee={display:"none"};function et(e){let{id:t,value:r}=e;return p().createElement("div",{id:t,style:ee},r)}function er(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return p().createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}let en=(0,x.createContext)(null),es={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},el={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function ea(e){let{announcements:t=el,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=es}=e,{announce:l,announcement:a}=function(){let[e,t]=(0,x.useState)("");return{announce:(0,x.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),i=V("DndLiveRegion"),[o,c]=(0,x.useState)(!1);if((0,x.useEffect)(()=>{c(!0)},[]),function(e){let t=(0,x.useContext)(en);(0,x.useEffect)(()=>{if(!t)throw Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}((0,x.useMemo)(()=>({onDragStart(e){let{active:r}=e;l(t.onDragStart({active:r}))},onDragMove(e){let{active:r,over:n}=e;t.onDragMove&&l(t.onDragMove({active:r,over:n}))},onDragOver(e){let{active:r,over:n}=e;l(t.onDragOver({active:r,over:n}))},onDragEnd(e){let{active:r,over:n}=e;l(t.onDragEnd({active:r,over:n}))},onDragCancel(e){let{active:r,over:n}=e;l(t.onDragCancel({active:r,over:n}))}}),[l,t])),!o)return null;let d=p().createElement(p().Fragment,null,p().createElement(et,{id:n,value:s.draggable}),p().createElement(er,{id:i,announcement:a}));return r?(0,T.createPortal)(d,r):d}function ei(){}function eo(e,t){return(0,x.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(s||(s={}));let ec=Object.freeze({x:0,y:0});function ed(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function eu(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function eh(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function em(e){let{left:t,top:r,height:n,width:s}=e;return[{x:t,y:r},{x:t+s,y:r},{x:t,y:r+n},{x:t+s,y:r+n}]}function eg(e,t){if(!e||0===e.length)return null;let[r]=e;return t?r[t]:r}function ex(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}let ep=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,s=ex(t,t.left,t.top),l=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=ed(ex(n),s);l.push({id:t,data:{droppableContainer:e,value:r}})}}return l.sort(eu)},ef=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,s=em(t),l=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=em(n),a=Number((s.reduce((e,t,n)=>e+ed(r[n],t),0)/4).toFixed(4));l.push({id:t,data:{droppableContainer:e,value:a}})}}return l.sort(eu)},eb=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,s=[];for(let e of n){let{id:n}=e,l=r.get(n);if(l){let r=function(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height);if(n<s&&r<l){let a=t.width*t.height,i=e.width*e.height,o=(s-n)*(l-r);return Number((o/(a+i-o)).toFixed(4))}return 0}(l,t);r>0&&s.push({id:n,data:{droppableContainer:e,value:r}})}}return s.sort(eh)};function ey(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ec}let ev=function(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((t,r)=>({...t,top:t.top+e*r.y,bottom:t.bottom+e*r.y,left:t.left+e*r.x,right:t.right+e*r.x}),{...t})}}(1),ew={ignoreTransform:!1};function ej(e,t){void 0===t&&(t=ew);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:n}=I(e).getComputedStyle(e);t&&(r=function(e,t,r){let n=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!n)return e;let{scaleX:s,scaleY:l,x:a,y:i}=n,o=e.left-a-(1-s)*parseFloat(r),c=e.top-i-(1-l)*parseFloat(r.slice(r.indexOf(" ")+1)),d=s?e.width/s:e.width,u=l?e.height/l:e.height;return{width:d,height:u,top:c,right:o+d,bottom:c+u,left:o}}(r,t,n))}let{top:n,left:s,width:l,height:a,bottom:i,right:o}=r;return{top:n,left:s,width:l,height:a,bottom:i,right:o}}function eN(e){return ej(e,{ignoreTransform:!0})}function ek(e,t){let r=[];return e?function n(s){var l;if(null!=t&&r.length>=t||!s)return r;if(L(s)&&null!=s.scrollingElement&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!U(s)||O(s)||r.includes(s))return r;let a=I(e).getComputedStyle(s);return(s!==e&&function(e,t){void 0===t&&(t=I(e).getComputedStyle(e));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{let n=t[e];return"string"==typeof n&&r.test(n)})}(s,a)&&r.push(s),void 0===(l=a)&&(l=I(s).getComputedStyle(s)),"fixed"===l.position)?r:n(s.parentNode)}(e):r}function eS(e){let[t]=ek(e,1);return null!=t?t:null}function eA(e){return D&&e?R(e)?e:P(e)?L(e)||e===_(e).scrollingElement?window:U(e)?e:null:null:null}function eC(e){return R(e)?e.scrollX:e.scrollLeft}function eE(e){return R(e)?e.scrollY:e.scrollTop}function eM(e){return{x:eC(e),y:eE(e)}}function eT(e){return!!D&&!!e&&e===document.scrollingElement}function eD(e){let t={x:0,y:0},r=eT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,l=e.scrollLeft<=t.x;return{isTop:s,isLeft:l,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(l||(l={}));let eR={x:.2,y:.2};function eP(e){return e.reduce((e,t)=>W(e,eM(t)),ec)}let eI=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+eC(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+eE(t),0)}]];class eL{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=ek(t),n=eP(r);for(let[t,s,l]of(this.rect={...e},this.width=e.width,this.height=e.height,eI))for(let e of s)Object.defineProperty(this,e,{get:()=>{let s=l(r),a=n[t]-s;return this.rect[e]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eU{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function eO(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}function e_(e){e.preventDefault()}function eF(e){e.stopPropagation()}(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(a||(a={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(i||(i={}));let ez={start:[i.Space,i.Enter],cancel:[i.Esc],end:[i.Space,i.Enter,i.Tab]},eB=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case i.Right:return{...r,x:r.x+25};case i.Left:return{...r,x:r.x-25};case i.Down:return{...r,y:r.y+25};case i.Up:return{...r,y:r.y-25}}};class eG{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;let{event:{target:t}}=e;this.props=e,this.listeners=new eU(_(t)),this.windowListeners=new eU(I(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(a.Resize,this.handleCancel),this.windowListeners.add(a.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(a.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=ej),!e)return;let{top:r,left:n,bottom:s,right:l}=t(e);eS(e)&&(s<=0||l<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(ec)}handleKeyDown(e){if(K(e)){let{active:t,context:r,options:n}=this.props,{keyboardCodes:s=ez,coordinateGetter:l=eB,scrollBehavior:a="smooth"}=n,{code:o}=e;if(s.end.includes(o)){this.handleEnd(e);return}if(s.cancel.includes(o)){this.handleCancel(e);return}let{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:ec;this.referenceCoordinates||(this.referenceCoordinates=d);let u=l(e,{active:t,context:r.current,currentCoordinates:d});if(u){let t=H(u,d),n={x:0,y:0},{scrollableAncestors:s}=r.current;for(let r of s){let s=e.code,{isTop:l,isRight:o,isLeft:c,isBottom:d,maxScroll:h,minScroll:m}=eD(r),g=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}(r),x={x:Math.min(s===i.Right?g.right-g.width/2:g.right,Math.max(s===i.Right?g.left:g.left+g.width/2,u.x)),y:Math.min(s===i.Down?g.bottom-g.height/2:g.bottom,Math.max(s===i.Down?g.top:g.top+g.height/2,u.y))},p=s===i.Right&&!o||s===i.Left&&!c,f=s===i.Down&&!d||s===i.Up&&!l;if(p&&x.x!==u.x){let e=r.scrollLeft+t.x,l=s===i.Right&&e<=h.x||s===i.Left&&e>=m.x;if(l&&!t.y){r.scrollTo({left:e,behavior:a});return}l?n.x=r.scrollLeft-e:n.x=s===i.Right?r.scrollLeft-h.x:r.scrollLeft-m.x,n.x&&r.scrollBy({left:-n.x,behavior:a});break}if(f&&x.y!==u.y){let e=r.scrollTop+t.y,l=s===i.Down&&e<=h.y||s===i.Up&&e>=m.y;if(l&&!t.x){r.scrollTo({top:e,behavior:a});return}l?n.y=r.scrollTop-e:n.y=s===i.Down?r.scrollTop-h.y:r.scrollTop-m.y,n.y&&r.scrollBy({top:-n.y,behavior:a});break}}this.handleMove(e,W(H(u,this.referenceCoordinates),n))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function eX(e){return!!(e&&"distance"in e)}function eq(e){return!!(e&&"delay"in e)}eG.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=ez,onActivation:s}=t,{active:l}=r,{code:a}=e.nativeEvent;if(n.start.includes(a)){let t=l.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==s||s({event:e.nativeEvent}),!0)}return!1}}];class e${constructor(e,t,r){var n;void 0===r&&(r=function(e){let{EventTarget:t}=I(e);return e instanceof t?e:_(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;let{event:s}=e,{target:l}=s;this.props=e,this.events=t,this.document=_(l),this.documentListeners=new eU(this.document),this.listeners=new eU(r),this.windowListeners=new eU(I(l)),this.initialCoordinates=null!=(n=J(s))?n:ec,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(a.Resize,this.handleCancel),this.windowListeners.add(a.DragStart,e_),this.windowListeners.add(a.VisibilityChange,this.handleCancel),this.windowListeners.add(a.ContextMenu,e_),this.documentListeners.add(a.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(eq(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(eX(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(a.Click,eF,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(a.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:n,props:s}=this,{onMove:l,options:{activationConstraint:a}}=s;if(!n)return;let i=null!=(t=J(e))?t:ec,o=H(n,i);if(!r&&a){if(eX(a)){if(null!=a.tolerance&&eO(o,a.tolerance))return this.handleCancel();if(eO(o,a.distance))return this.handleStart()}return eq(a)&&eO(o,a.tolerance)?this.handleCancel():void this.handlePending(a,o)}e.cancelable&&e.preventDefault(),l(i)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===i.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let eV={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class eY extends e${constructor(e){let{event:t}=e;super(e,eV,_(t.target))}}eY.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!!r.isPrimary&&0===r.button&&(null==n||n({event:r}),!0)}}];let eW={move:{name:"mousemove"},end:{name:"mouseup"}};!function(e){e[e.RightClick=2]="RightClick"}(o||(o={}));class eH extends e${constructor(e){super(e,eW,_(e.event.target))}}eH.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button!==o.RightClick&&(null==n||n({event:r}),!0)}}];let eK={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class eJ extends e${constructor(e){super(e,eK)}static setup(){return window.addEventListener(eK.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(eK.move.name,e)};function e(){}}}eJ.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t,{touches:s}=r;return!(s.length>1)&&(null==n||n({event:r}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(c||(c={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(d||(d={}));let eZ={x:{[l.Backward]:!1,[l.Forward]:!1},y:{[l.Backward]:!1,[l.Forward]:!1}};(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(u||(u={})),(h||(h={})).Optimized="optimized";let eQ=new Map;function e0(e,t){return G(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function e1(e){let{callback:t,disabled:r}=e,n=z(t),s=(0,x.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(n)},[r]);return(0,x.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}function e2(e){return new eL(ej(e),e)}function e4(e,t,r){void 0===t&&(t=e2);let[n,s]=(0,x.useState)(null);function l(){s(n=>{if(!e)return null;if(!1===e.isConnected){var s;return null!=(s=null!=n?n:r)?s:null}let l=t(e);return JSON.stringify(n)===JSON.stringify(l)?n:l})}let a=function(e){let{callback:t,disabled:r}=e,n=z(t),s=(0,x.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(n)},[n,r]);return(0,x.useEffect)(()=>()=>null==s?void 0:s.disconnect(),[s]),s}({callback(t){if(e)for(let r of t){let{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){l();break}}}}),i=e1({callback:l});return F(()=>{l(),e?(null==i||i.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==i||i.disconnect(),null==a||a.disconnect())},[e]),n}let e3=[];function e5(e,t){void 0===t&&(t=[]);let r=(0,x.useRef)(null);return(0,x.useEffect)(()=>{r.current=null},t),(0,x.useEffect)(()=>{let t=e!==ec;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?H(e,r.current):ec}function e6(e){return(0,x.useMemo)(()=>e?function(e){let t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}(e):null,[e])}let e8=[],e7=[{sensor:eY,options:{}},{sensor:eG,options:{}}],e9={current:{}},te={draggable:{measure:eN},droppable:{measure:eN,strategy:u.WhileDragging,frequency:h.Optimized},dragOverlay:{measure:ej}};class tt extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let tr={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new tt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:ei},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:te,measureDroppableContainers:ei,windowRect:null,measuringScheduled:!1},tn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:ei,draggableNodes:new Map,over:null,measureDroppableContainers:ei},ts=(0,x.createContext)(tn),tl=(0,x.createContext)(tr);function ta(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new tt}}}function ti(e,t){switch(t.type){case s.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case s.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case s.DragEnd:case s.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case s.RegisterDroppable:{let{element:r}=t,{id:n}=r,s=new tt(e.droppable.containers);return s.set(n,r),{...e,droppable:{...e.droppable,containers:s}}}case s.SetDroppableDisabled:{let{id:r,key:n,disabled:s}=t,l=e.droppable.containers.get(r);if(!l||n!==l.key)return e;let a=new tt(e.droppable.containers);return a.set(r,{...l,disabled:s}),{...e,droppable:{...e.droppable,containers:a}}}case s.UnregisterDroppable:{let{id:r,key:n}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;let l=new tt(e.droppable.containers);return l.delete(r),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function to(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:s}=(0,x.useContext)(ts),l=q(n),a=q(null==r?void 0:r.id);return(0,x.useEffect)(()=>{if(!t&&!n&&l&&null!=a){if(!K(l)||document.activeElement===l.target)return;let e=s.get(a);if(!e)return;let{activatorNode:t,node:r}=e;if(t.current||r.current)requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=e.matches(Q)?e:e.querySelector(Q);if(t){t.focus();break}}})}},[n,t,s,a,l]),null}let tc=(0,x.createContext)({...ec,scaleX:1,scaleY:1});!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(m||(m={}));let td=(0,x.memo)(function(e){var t,r,n,a,i,o;let{id:h,accessibility:g,autoScroll:f=!0,children:b,sensors:y=e7,collisionDetection:v=eb,measuring:w,modifiers:j,...N}=e,[k,S]=(0,x.useReducer)(ti,void 0,ta),[A,C]=function(){let[e]=(0,x.useState)(()=>new Set),t=(0,x.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,x.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[E,M]=(0,x.useState)(m.Uninitialized),R=E===m.Initialized,{draggable:{active:P,nodes:L,translate:O},droppable:{containers:_}}=k,z=null!=P?L.get(P):null,$=(0,x.useRef)({initial:null,translated:null}),Y=(0,x.useMemo)(()=>{var e;return null!=P?{id:P,data:null!=(e=null==z?void 0:z.data)?e:e9,rect:$}:null},[P,z]),H=(0,x.useRef)(null),[K,Z]=(0,x.useState)(null),[Q,ee]=(0,x.useState)(null),et=B(N,Object.values(N)),er=V("DndDescribedBy",h),es=(0,x.useMemo)(()=>_.getEnabled(),[_]),el=(0,x.useMemo)(()=>({draggable:{...te.draggable,...null==w?void 0:w.draggable},droppable:{...te.droppable,...null==w?void 0:w.droppable},dragOverlay:{...te.dragOverlay,...null==w?void 0:w.dragOverlay}}),[null==w?void 0:w.draggable,null==w?void 0:w.droppable,null==w?void 0:w.dragOverlay]),{droppableRects:ei,measureDroppableContainers:eo,measuringScheduled:ed}=function(e,t){let{dragging:r,dependencies:n,config:s}=t,[l,a]=(0,x.useState)(null),{frequency:i,measure:o,strategy:c}=s,d=(0,x.useRef)(e),h=function(){switch(c){case u.Always:return!1;case u.BeforeDragging:return r;default:return!r}}(),m=B(h),g=(0,x.useCallback)(function(e){void 0===e&&(e=[]),!m.current&&a(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[m]),p=(0,x.useRef)(null),f=G(t=>{if(h&&!r)return eQ;if(!t||t===eQ||d.current!==e||null!=l){let t=new Map;for(let r of e){if(!r)continue;if(l&&l.length>0&&!l.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,n=e?new eL(o(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,l,r,h,o]);return(0,x.useEffect)(()=>{d.current=e},[e]),(0,x.useEffect)(()=>{!h&&g()},[r,h]),(0,x.useEffect)(()=>{l&&l.length>0&&a(null)},[JSON.stringify(l)]),(0,x.useEffect)(()=>{!h&&"number"==typeof i&&null===p.current&&(p.current=setTimeout(()=>{g(),p.current=null},i))},[i,h,g,...n]),{droppableRects:f,measureDroppableContainers:g,measuringScheduled:null!=l}}(es,{dragging:R,dependencies:[O.x,O.y],config:el.droppable}),eu=function(e,t){let r=null!=t?e.get(t):void 0,n=r?r.node.current:null;return G(e=>{var r;return null==t?null:null!=(r=null!=n?n:e)?r:null},[n,t])}(L,P),eh=(0,x.useMemo)(()=>Q?J(Q):null,[Q]),em=function(){let e=(null==K?void 0:K.autoScrollEnabled)===!1,t="object"==typeof f?!1===f.enabled:!1===f,r=R&&!e&&!t;return"object"==typeof f?{...f,enabled:r}:{enabled:r}}(),ex=e0(eu,el.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e,l=(0,x.useRef)(!1),{x:a,y:i}="boolean"==typeof s?{x:s,y:s}:s;F(()=>{if(!a&&!i||!t){l.current=!1;return}if(l.current||!n)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let s=ey(r(e),n);if(a||(s.x=0),i||(s.y=0),l.current=!0,Math.abs(s.x)>0||Math.abs(s.y)>0){let t=eS(e);t&&t.scrollBy({top:s.y,left:s.x})}},[t,a,i,n,r])}({activeNode:null!=P?L.get(P):null,config:em.layoutShiftCompensation,initialRect:ex,measure:el.draggable.measure});let ep=e4(eu,el.draggable.measure,ex),ef=e4(eu?eu.parentElement:null),ew=(0,x.useRef)({activatorEvent:null,active:null,activeNode:eu,collisionRect:null,collisions:null,droppableRects:ei,draggableNodes:L,draggingNode:null,draggingNodeRect:null,droppableContainers:_,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),eN=_.getNodeFor(null==(t=ew.current.over)?void 0:t.id),eC=function(e){let{measure:t}=e,[r,n]=(0,x.useState)(null),s=e1({callback:(0,x.useCallback)(e=>{for(let{target:r}of e)if(U(r)){n(e=>{let n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t])}),[l,a]=X((0,x.useCallback)(e=>{let r=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return U(t)?t:e}(e);null==s||s.disconnect(),r&&(null==s||s.observe(r)),n(r?t(r):null)},[t,s]));return(0,x.useMemo)(()=>({nodeRef:l,rect:r,setRef:a}),[r,l,a])}({measure:el.dragOverlay.measure}),eE=null!=(r=eC.nodeRef.current)?r:eu,eI=R?null!=(n=eC.rect)?n:ep:null,eU=!!(eC.nodeRef.current&&eC.rect),eO=function(e){let t=e0(e);return ey(e,t)}(eU?null:ep),e_=e6(eE?I(eE):null),eF=function(e){let t=(0,x.useRef)(e),r=G(r=>e?r&&r!==e3&&e&&t.current&&e.parentNode===t.current.parentNode?r:ek(e):e3,[e]);return(0,x.useEffect)(()=>{t.current=e},[e]),r}(R?null!=eN?eN:eu:null),ez=function(e,t){void 0===t&&(t=ej);let[r]=e,n=e6(r?I(r):null),[s,l]=(0,x.useState)(e8);function a(){l(()=>e.length?e.map(e=>eT(e)?n:new eL(t(e),e)):e8)}let i=e1({callback:a});return F(()=>{null==i||i.disconnect(),a(),e.forEach(e=>null==i?void 0:i.observe(e))},[e]),s}(eF),eB=function(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}(j,{transform:{x:O.x-eO.x,y:O.y-eO.y,scaleX:1,scaleY:1},activatorEvent:Q,active:Y,activeNodeRect:ep,containerNodeRect:ef,draggingNodeRect:eI,over:ew.current.over,overlayNodeRect:eC.rect,scrollableAncestors:eF,scrollableAncestorRects:ez,windowRect:e_}),eG=eh?W(eh,O):null,eX=function(e){let[t,r]=(0,x.useState)(null),n=(0,x.useRef)(e),s=(0,x.useCallback)(e=>{let t=eA(e.target);t&&r(e=>e?(e.set(t,eM(t)),new Map(e)):null)},[]);return(0,x.useEffect)(()=>{let t=n.current;if(e!==t){l(t);let a=e.map(e=>{let t=eA(e);return t?(t.addEventListener("scroll",s,{passive:!0}),[t,eM(t)]):null}).filter(e=>null!=e);r(a.length?new Map(a):null),n.current=e}return()=>{l(e),l(t)};function l(e){e.forEach(e=>{let t=eA(e);null==t||t.removeEventListener("scroll",s)})}},[s,e]),(0,x.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>W(e,t),ec):eP(e):ec,[e,t])}(eF),eq=e5(eX),e$=e5(eX,[ep]),eV=W(eB,eq),eY=eI?ev(eI,eB):null,eW=Y&&eY?v({active:Y,collisionRect:eY,droppableRects:ei,droppableContainers:es,pointerCoordinates:eG}):null,eH=eg(eW,"id"),[eK,eJ]=(0,x.useState)(null),e2=(i=eU?eB:W(eB,e$),o=null!=(a=null==eK?void 0:eK.rect)?a:null,{...i,scaleX:o&&ep?o.width/ep.width:1,scaleY:o&&ep?o.height/ep.height:1}),tt=(0,x.useRef)(null),tr=(0,x.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==H.current)return;let l=L.get(H.current);if(!l)return;let a=e.nativeEvent,i=new r({active:H.current,activeNode:l,event:a,options:n,context:ew,onAbort(e){if(!L.get(e))return;let{onDragAbort:t}=et.current,r={id:e};null==t||t(r),A({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!L.get(e))return;let{onDragPending:s}=et.current,l={id:e,constraint:t,initialCoordinates:r,offset:n};null==s||s(l),A({type:"onDragPending",event:l})},onStart(e){let t=H.current;if(null==t)return;let r=L.get(t);if(!r)return;let{onDragStart:n}=et.current,l={activatorEvent:a,active:{id:t,data:r.data,rect:$}};(0,T.unstable_batchedUpdates)(()=>{null==n||n(l),M(m.Initializing),S({type:s.DragStart,initialCoordinates:e,active:t}),A({type:"onDragStart",event:l}),Z(tt.current),ee(a)})},onMove(e){S({type:s.DragMove,coordinates:e})},onEnd:o(s.DragEnd),onCancel:o(s.DragCancel)});function o(e){return async function(){let{active:t,collisions:r,over:n,scrollAdjustedTranslate:l}=ew.current,i=null;if(t&&l){let{cancelDrop:o}=et.current;i={activatorEvent:a,active:t,collisions:r,delta:l,over:n},e===s.DragEnd&&"function"==typeof o&&await Promise.resolve(o(i))&&(e=s.DragCancel)}H.current=null,(0,T.unstable_batchedUpdates)(()=>{S({type:e}),M(m.Uninitialized),eJ(null),Z(null),ee(null),tt.current=null;let t=e===s.DragEnd?"onDragEnd":"onDragCancel";if(i){let e=et.current[t];null==e||e(i),A({type:t,event:i})}})}}tt.current=i},[L]),tn=(0,x.useCallback)((e,t)=>(r,n)=>{let s=r.nativeEvent,l=L.get(n);null===H.current&&l&&!s.dndKit&&!s.defaultPrevented&&!0===e(r,t.options,{active:l})&&(s.dndKit={capturedBy:t.sensor},H.current=n,tr(r,t))},[L,tr]),td=(0,x.useMemo)(()=>y.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:tn(e.handler,t)}))]},[]),[y,tn]);(0,x.useEffect)(()=>{if(!D)return;let e=y.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},y.map(e=>{let{sensor:t}=e;return t})),F(()=>{ep&&E===m.Initializing&&M(m.Initialized)},[ep,E]),(0,x.useEffect)(()=>{let{onDragMove:e}=et.current,{active:t,activatorEvent:r,collisions:n,over:s}=ew.current;if(!t||!r)return;let l={active:t,activatorEvent:r,collisions:n,delta:{x:eV.x,y:eV.y},over:s};(0,T.unstable_batchedUpdates)(()=>{null==e||e(l),A({type:"onDragMove",event:l})})},[eV.x,eV.y]),(0,x.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:s}=ew.current;if(!e||null==H.current||!t||!s)return;let{onDragOver:l}=et.current,a=n.get(eH),i=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,o={active:e,activatorEvent:t,collisions:r,delta:{x:s.x,y:s.y},over:i};(0,T.unstable_batchedUpdates)(()=>{eJ(i),null==l||l(o),A({type:"onDragOver",event:o})})},[eH]),F(()=>{ew.current={activatorEvent:Q,active:Y,activeNode:eu,collisionRect:eY,collisions:eW,droppableRects:ei,draggableNodes:L,draggingNode:eE,draggingNodeRect:eI,droppableContainers:_,over:eK,scrollableAncestors:eF,scrollAdjustedTranslate:eV},$.current={initial:eI,translated:eY}},[Y,eu,eW,eY,L,eE,eI,ei,_,eK,eF,eV]),function(e){let{acceleration:t,activator:r=c.Pointer,canScroll:n,draggingRect:s,enabled:a,interval:i=5,order:o=d.TreeOrder,pointerCoordinates:u,scrollableAncestors:h,scrollableAncestorRects:m,delta:g,threshold:p}=e,f=function(e){let{delta:t,disabled:r}=e,n=q(t);return G(e=>{if(r||!n||!e)return eZ;let s={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[l.Backward]:e.x[l.Backward]||-1===s.x,[l.Forward]:e.x[l.Forward]||1===s.x},y:{[l.Backward]:e.y[l.Backward]||-1===s.y,[l.Forward]:e.y[l.Forward]||1===s.y}}},[r,t,n])}({delta:g,disabled:!a}),[b,y]=function(){let e=(0,x.useRef)(null);return[(0,x.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,x.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),v=(0,x.useRef)({x:0,y:0}),w=(0,x.useRef)({x:0,y:0}),j=(0,x.useMemo)(()=>{switch(r){case c.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case c.DraggableRect:return s}},[r,s,u]),N=(0,x.useRef)(null),k=(0,x.useCallback)(()=>{let e=N.current;if(!e)return;let t=v.current.x*w.current.x,r=v.current.y*w.current.y;e.scrollBy(t,r)},[]),S=(0,x.useMemo)(()=>o===d.TreeOrder?[...h].reverse():h,[o,h]);(0,x.useEffect)(()=>{if(!a||!h.length||!j){y();return}for(let e of S){if((null==n?void 0:n(e))===!1)continue;let r=m[h.indexOf(e)];if(!r)continue;let{direction:s,speed:a}=function(e,t,r,n,s){let{top:a,left:i,right:o,bottom:c}=r;void 0===n&&(n=10),void 0===s&&(s=eR);let{isTop:d,isBottom:u,isLeft:h,isRight:m}=eD(e),g={x:0,y:0},x={x:0,y:0},p={height:t.height*s.y,width:t.width*s.x};return!d&&a<=t.top+p.height?(g.y=l.Backward,x.y=n*Math.abs((t.top+p.height-a)/p.height)):!u&&c>=t.bottom-p.height&&(g.y=l.Forward,x.y=n*Math.abs((t.bottom-p.height-c)/p.height)),!m&&o>=t.right-p.width?(g.x=l.Forward,x.x=n*Math.abs((t.right-p.width-o)/p.width)):!h&&i<=t.left+p.width&&(g.x=l.Backward,x.x=n*Math.abs((t.left+p.width-i)/p.width)),{direction:g,speed:x}}(e,r,j,t,p);for(let e of["x","y"])f[e][s[e]]||(a[e]=0,s[e]=0);if(a.x>0||a.y>0){y(),N.current=e,b(k,i),v.current=a,w.current=s;return}}v.current={x:0,y:0},w.current={x:0,y:0},y()},[t,k,n,y,a,i,JSON.stringify(j),JSON.stringify(f),b,h,S,m,JSON.stringify(p)])}({...em,delta:O,draggingRect:eY,pointerCoordinates:eG,scrollableAncestors:eF,scrollableAncestorRects:ez});let tu=(0,x.useMemo)(()=>({active:Y,activeNode:eu,activeNodeRect:ep,activatorEvent:Q,collisions:eW,containerNodeRect:ef,dragOverlay:eC,draggableNodes:L,droppableContainers:_,droppableRects:ei,over:eK,measureDroppableContainers:eo,scrollableAncestors:eF,scrollableAncestorRects:ez,measuringConfiguration:el,measuringScheduled:ed,windowRect:e_}),[Y,eu,ep,Q,eW,ef,eC,L,_,ei,eK,eo,eF,ez,el,ed,e_]),th=(0,x.useMemo)(()=>({activatorEvent:Q,activators:td,active:Y,activeNodeRect:ep,ariaDescribedById:{draggable:er},dispatch:S,draggableNodes:L,over:eK,measureDroppableContainers:eo}),[Q,td,Y,ep,S,er,L,eK,eo]);return p().createElement(en.Provider,{value:C},p().createElement(ts.Provider,{value:th},p().createElement(tl.Provider,{value:tu},p().createElement(tc.Provider,{value:e2},b)),p().createElement(to,{disabled:(null==g?void 0:g.restoreFocus)===!1})),p().createElement(ea,{...g,hiddenTextDescribedById:er}))}),tu=(0,x.createContext)(null),th="button",tm={timeout:25};n={styles:{active:{opacity:"0"}}},e=>{let{active:t,dragOverlay:r}=e,s={},{styles:l,className:a}=n;if(null!=l&&l.active)for(let[e,r]of Object.entries(l.active))void 0!==r&&(s[e]=t.node.style.getPropertyValue(e),t.node.style.setProperty(e,r));if(null!=l&&l.dragOverlay)for(let[e,t]of Object.entries(l.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=a&&a.active&&t.node.classList.add(a.active),null!=a&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(let[e,r]of Object.entries(s))t.node.style.setProperty(e,r);null!=a&&a.active&&t.node.classList.remove(a.active)}};function tg(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function tx(e){return null!==e&&e>=0}let tp={scaleX:1,scaleY:1},tf=e=>{var t;let{rects:r,activeNodeRect:n,activeIndex:s,overIndex:l,index:a}=e,i=null!=(t=r[s])?t:n;if(!i)return null;let o=function(e,t,r){let n=e[t],s=e[t-1],l=e[t+1];return n&&(s||l)?r<t?s?n.left-(s.left+s.width):l.left-(n.left+n.width):l?l.left-(n.left+n.width):n.left-(s.left+s.width):0}(r,a,s);if(a===s){let e=r[l];return e?{x:s<l?e.left+e.width-(i.left+i.width):e.left-i.left,y:0,...tp}:null}return a>s&&a<=l?{x:-i.width-o,y:0,...tp}:a<s&&a>=l?{x:i.width+o,y:0,...tp}:{x:0,y:0,...tp}},tb=e=>{let{rects:t,activeIndex:r,overIndex:n,index:s}=e,l=tg(t,n,r),a=t[s],i=l[s];return i&&a?{x:i.left-a.left,y:i.top-a.top,scaleX:i.width/a.width,scaleY:i.height/a.height}:null},ty="Sortable",tv=p().createContext({activeIndex:-1,containerId:ty,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tb,disabled:{draggable:!1,droppable:!1}});function tw(e){let{children:t,id:r,items:n,strategy:s=tb,disabled:l=!1}=e,{active:a,dragOverlay:i,droppableRects:o,over:c,measureDroppableContainers:d}=(0,x.useContext)(tl),u=V(ty,r),h=null!==i.rect,m=(0,x.useMemo)(()=>n.map(e=>"object"==typeof e&&"id"in e?e.id:e),[n]),g=null!=a,f=a?m.indexOf(a.id):-1,b=c?m.indexOf(c.id):-1,y=(0,x.useRef)(m),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(m,y.current),w=-1!==b&&-1===f||v,j="boolean"==typeof l?{draggable:l,droppable:l}:l;F(()=>{v&&g&&d(m)},[v,m,g,d]),(0,x.useEffect)(()=>{y.current=m},[m]);let N=(0,x.useMemo)(()=>({activeIndex:f,containerId:u,disabled:j,disableTransforms:w,items:m,overIndex:b,useDragOverlay:h,sortedRects:m.reduce((e,t,r)=>{let n=o.get(t);return n&&(e[r]=n),e},Array(m.length)),strategy:s}),[f,u,j.draggable,j.droppable,w,m,b,o,h,s]);return p().createElement(tv.Provider,{value:N},t)}let tj=e=>{let{id:t,items:r,activeIndex:n,overIndex:s}=e;return tg(r,n,s).indexOf(t)},tN=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:s,items:l,newIndex:a,previousItems:i,previousContainerId:o,transition:c}=e;return!!c&&!!n&&(i===l||s!==a)&&(!!r||a!==s&&t===o)},tk={duration:200,easing:"ease"},tS="transform",tA=Z.Transition.toString({property:tS,duration:0,easing:"linear"}),tC={roleDescription:"sortable"};function tE(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let tM=[i.Down,i.Right,i.Up,i.Left],tT=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:l,over:a,scrollableAncestors:o}}=t;if(tM.includes(e.code)){if(e.preventDefault(),!r||!n)return;let t=[];l.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let l=s.get(r.id);if(l)switch(e.code){case i.Down:n.top<l.top&&t.push(r);break;case i.Up:n.top>l.top&&t.push(r);break;case i.Left:n.left>l.left&&t.push(r);break;case i.Right:n.left<l.left&&t.push(r)}});let c=ef({active:r,collisionRect:n,droppableRects:s,droppableContainers:t,pointerCoordinates:null}),d=eg(c,"id");if(d===(null==a?void 0:a.id)&&c.length>1&&(d=c[1].id),null!=d){let e=l.get(r.id),t=l.get(d),a=t?s.get(t.id):null,i=null==t?void 0:t.node.current;if(i&&a&&e&&t){let r=ek(i).some((e,t)=>o[t]!==e),s=tD(e,t),l=function(e,t){return!!(tE(e)&&tE(t)&&tD(e,t))&&e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=r||!s?{x:0,y:0}:{x:l?n.width-a.width:0,y:l?n.height-a.height:0},d={x:a.left,y:a.top};return c.x&&c.y?d:H(d,c)}}}};function tD(e,t){return!!(tE(e)&&tE(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var tR=r(48730);let tP=({scene:e,isSelected:t,onSelect:r})=>{let{attributes:n,listeners:l,setNodeRef:a,transform:i,transition:o,isDragging:c}=function(e){var t,r,n,l;let{animateLayoutChanges:a=tN,attributes:i,disabled:o,data:c,getNewIndex:d=tj,id:u,strategy:h,resizeObserverConfig:m,transition:g=tk}=e,{items:p,containerId:f,activeIndex:b,disabled:y,disableTransforms:v,sortedRects:w,overIndex:j,useDragOverlay:N,strategy:k}=(0,x.useContext)(tv),S=(t=o,r=y,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(n=null==t?void 0:t.draggable)?n:r.draggable,droppable:null!=(l=null==t?void 0:t.droppable)?l:r.droppable}),A=p.indexOf(u),C=(0,x.useMemo)(()=>({sortable:{containerId:f,index:A,items:p},...c}),[f,c,A,p]),E=(0,x.useMemo)(()=>p.slice(p.indexOf(u)),[p,u]),{rect:M,node:T,isOver:D,setNodeRef:R}=function(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:l}=e,a=V("Droppable"),{active:i,dispatch:o,over:c,measureDroppableContainers:d}=(0,x.useContext)(ts),u=(0,x.useRef)({disabled:r}),h=(0,x.useRef)(!1),m=(0,x.useRef)(null),g=(0,x.useRef)(null),{disabled:p,updateMeasurementsFor:f,timeout:b}={...tm,...l},y=B(null!=f?f:n),v=e1({callback:(0,x.useCallback)(()=>{if(!h.current){h.current=!0;return}null!=g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{d(Array.isArray(y.current)?y.current:[y.current]),g.current=null},b)},[b]),disabled:p||!i}),[w,j]=X((0,x.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),h.current=!1),e&&v.observe(e))},[v])),N=B(t);return(0,x.useEffect)(()=>{v&&w.current&&(v.disconnect(),h.current=!1,v.observe(w.current))},[w,v]),(0,x.useEffect)(()=>(o({type:s.RegisterDroppable,element:{id:n,key:a,disabled:r,node:w,rect:m,data:N}}),()=>o({type:s.UnregisterDroppable,key:a,id:n})),[n]),(0,x.useEffect)(()=>{r!==u.current.disabled&&(o({type:s.SetDroppableDisabled,id:n,key:a,disabled:r}),u.current.disabled=r)},[n,a,r,o]),{active:i,rect:m,isOver:(null==c?void 0:c.id)===n,node:w,over:c,setNodeRef:j}}({id:u,data:C,disabled:S.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...m}}),{active:P,activatorEvent:I,activeNodeRect:L,attributes:U,setNodeRef:O,listeners:_,isDragging:z,over:G,setActivatorNodeRef:q,transform:$}=function(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e,l=V("Draggable"),{activators:a,activatorEvent:i,active:o,activeNodeRect:c,ariaDescribedById:d,draggableNodes:u,over:h}=(0,x.useContext)(ts),{role:m=th,roleDescription:g="draggable",tabIndex:p=0}=null!=s?s:{},f=(null==o?void 0:o.id)===t,b=(0,x.useContext)(f?tc:tu),[y,v]=X(),[w,j]=X(),N=(0,x.useMemo)(()=>a.reduce((e,r)=>{let{eventName:n,handler:s}=r;return e[n]=e=>{s(e,t)},e},{}),[a,t]),k=B(r);return F(()=>(u.set(t,{id:t,key:l,node:y,activatorNode:w,data:k}),()=>{let e=u.get(t);e&&e.key===l&&u.delete(t)}),[u,t]),{active:o,activatorEvent:i,activeNodeRect:c,attributes:(0,x.useMemo)(()=>({role:m,tabIndex:p,"aria-disabled":n,"aria-pressed":!!f&&m===th||void 0,"aria-roledescription":g,"aria-describedby":d.draggable}),[n,m,p,f,g,d.draggable]),isDragging:f,listeners:n?void 0:N,node:y,over:h,setNodeRef:v,setActivatorNodeRef:j,transform:b}}({id:u,data:C,attributes:{...tC,...i},disabled:S.draggable}),Y=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,x.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(R,O),W=!!P,H=W&&!v&&tx(b)&&tx(j),J=!N&&z,Q=J&&H?$:null,ee=H?null!=Q?Q:(null!=h?h:k)({rects:w,activeNodeRect:L,activeIndex:b,overIndex:j,index:A}):null,et=tx(b)&&tx(j)?d({id:u,items:p,activeIndex:b,overIndex:j}):A,er=null==P?void 0:P.id,en=(0,x.useRef)({activeId:er,items:p,newIndex:et,containerId:f}),es=p!==en.current.items,el=a({active:P,containerId:f,isDragging:z,isSorting:W,id:u,index:A,items:p,newIndex:en.current.newIndex,previousItems:en.current.items,previousContainerId:en.current.containerId,transition:g,wasDragging:null!=en.current.activeId}),ea=function(e){let{disabled:t,index:r,node:n,rect:s}=e,[l,a]=(0,x.useState)(null),i=(0,x.useRef)(r);return F(()=>{if(!t&&r!==i.current&&n.current){let e=s.current;if(e){let t=ej(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&a(r)}}r!==i.current&&(i.current=r)},[t,r,n,s]),(0,x.useEffect)(()=>{l&&a(null)},[l]),l}({disabled:!el,index:A,node:T,rect:M});return(0,x.useEffect)(()=>{W&&en.current.newIndex!==et&&(en.current.newIndex=et),f!==en.current.containerId&&(en.current.containerId=f),p!==en.current.items&&(en.current.items=p)},[W,et,f,p]),(0,x.useEffect)(()=>{if(er===en.current.activeId)return;if(null!=er&&null==en.current.activeId){en.current.activeId=er;return}let e=setTimeout(()=>{en.current.activeId=er},50);return()=>clearTimeout(e)},[er]),{active:P,activeIndex:b,attributes:U,data:C,rect:M,index:A,newIndex:et,items:p,isOver:D,isSorting:W,isDragging:z,listeners:_,node:T,overIndex:j,over:G,setNodeRef:Y,setActivatorNodeRef:q,setDroppableNodeRef:R,setDraggableNodeRef:O,transform:null!=ea?ea:ee,transition:ea||es&&en.current.newIndex===A?tA:(!J||K(I))&&g&&(W||el)?Z.Transition.toString({...g,property:tS}):void 0}}({id:e.id}),d={transform:Z.Transform.toString(i),transition:o,opacity:c?.5:1};return(0,g.jsxs)("div",{ref:a,style:d,...n,...l,className:`
        relative bg-gray-800 rounded-lg p-3 cursor-grab active:cursor-grabbing
        border-2 transition-all duration-200 min-w-[200px] max-w-[200px]
        ${t?"border-blue-500 bg-blue-900/20":"border-gray-600 hover:border-gray-500"}
      `,onClick:()=>r(e.id),children:[(0,g.jsxs)("div",{className:"relative mb-2",children:[(0,g.jsx)("img",{src:e.thumbnail,alt:e.name,className:"w-full h-24 object-cover rounded"}),(0,g.jsxs)("div",{className:"absolute bottom-1 right-1 bg-black/70 text-white text-xs px-1 rounded",children:[Math.floor(e.duration/60),":",String(Math.floor(e.duration%60)).padStart(2,"0")]}),e.beatMarkers.length>0&&(0,g.jsxs)("div",{className:"absolute top-1 left-1 bg-purple-600 text-white text-xs px-1 rounded flex items-center gap-1",children:[(0,g.jsx)(v.A,{className:"w-3 h-3"}),e.beatMarkers.length]})]}),(0,g.jsxs)("div",{className:"space-y-1",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-white truncate",children:e.name}),(0,g.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[(0,g.jsx)("span",{children:e.metadata.resolution}),(0,g.jsxs)("span",{children:[e.metadata.fps,"fps"]})]})]}),e.beatMarkers.length>0&&(0,g.jsx)("div",{className:"mt-2 h-1 bg-gray-700 rounded-full overflow-hidden",children:(0,g.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 relative",children:e.beatMarkers.slice(0,10).map((t,r)=>(0,g.jsx)("div",{className:"absolute top-0 w-0.5 h-full bg-white/60",style:{left:`${t/e.duration*100}%`}},r))})})]})},tI=({slot:e,onSelectTransition:t,onRemoveTransition:r})=>(0,g.jsxs)("div",{className:"flex flex-col items-center justify-center min-w-[80px] mx-2",children:[e.transition?(0,g.jsxs)("div",{className:"relative group",children:[(0,g.jsx)("button",{type:"button",onClick:()=>t(e.id),className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg p-2 hover:from-purple-700 hover:to-pink-700 transition-all",title:e.transition.name,children:(0,g.jsx)("div",{className:"w-12 h-8 bg-white/20 rounded flex items-center justify-center",children:(0,g.jsx)(A.A,{className:"w-4 h-4 text-white"})})}),(0,g.jsxs)("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-black/80 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:[e.transition.name," (",e.transition.viralScore.toFixed(1),"\uD83D\uDD25)"]}),(0,g.jsx)("button",{type:"button",onClick:()=>r(e.id),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:"\xd7"}),e.beatSynced&&(0,g.jsx)("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2 text-purple-400 text-xs",children:(0,g.jsx)(v.A,{className:"w-3 h-3"})})]}):(0,g.jsx)("button",{type:"button",onClick:()=>t(e.id),className:"border-2 border-dashed border-gray-600 hover:border-purple-500 rounded-lg p-2 transition-colors group",title:"Add Transition",children:(0,g.jsx)("div",{className:"w-12 h-8 flex items-center justify-center text-gray-400 group-hover:text-purple-400",children:(0,g.jsx)("span",{className:"text-lg",children:"+"})})}),(0,g.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:e.transition?`${e.transition.duration}s`:"Add"})]}),tL=({scenes:e,transitionSlots:t,selectedSceneId:r,beatMarkers:n,showBeatMarkers:s,onScenesReorder:l,onSceneSelect:a,onTransitionSelect:i,onTransitionRemove:o})=>{let c=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,x.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(eo(eY),eo(eG,{coordinateGetter:tT})),d=(0,x.useCallback)(t=>{let{active:r,over:n}=t;if(r.id!==n?.id){let t=e.findIndex(e=>e.id===r.id),s=e.findIndex(e=>e.id===n?.id);l(tg(e,t,s))}},[e,l]),u=e.reduce((e,t)=>e+t.duration,0);return(0,g.jsxs)("div",{className:"bg-gray-900 border-t border-gray-700 p-4",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Scene Timeline"}),(0,g.jsxs)("div",{className:"text-sm text-gray-400",children:[e.length," scenes  ",Math.floor(u/60),":",String(Math.floor(u%60)).padStart(2,"0")," total"]})]}),(0,g.jsx)("div",{className:"flex items-center gap-2",children:(0,g.jsxs)("button",{type:"button",className:`px-3 py-1 rounded text-sm transition-colors ${s?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[(0,g.jsx)(v.A,{className:"w-4 h-4 inline mr-1"}),"Beat Sync"]})})]}),s&&n.length>0&&(0,g.jsxs)("div",{className:"mb-4 h-8 bg-gray-800 rounded-lg relative overflow-hidden",children:[(0,g.jsx)("div",{className:"absolute inset-0 flex items-center",children:n.map((e,t)=>(0,g.jsx)("div",{className:"absolute w-0.5 h-full bg-purple-400",style:{left:`${e.time/u*100}%`,opacity:e.strength},title:`Beat at ${e.time.toFixed(2)}s`},t))}),(0,g.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-gray-400",children:["Beat Markers (",n.length," detected)"]})]}),(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsx)(td,{sensors:c,collisionDetection:ep,onDragEnd:d,children:(0,g.jsx)("div",{className:"flex items-center gap-2 pb-4 min-w-max",children:(0,g.jsx)(tw,{items:e.map(e=>e.id),strategy:tf,children:e.map((n,s)=>(0,g.jsxs)(p().Fragment,{children:[(0,g.jsx)(tP,{scene:n,isSelected:r===n.id,onSelect:a}),s<e.length-1&&(0,g.jsx)(tI,{slot:t[s]||{id:`slot-${s}`,beforeSceneId:n.id,afterSceneId:e[s+1].id,beatSynced:!1},onSelectTransition:i,onRemoveTransition:o})]},n.id))})})})}),(0,g.jsxs)("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-700",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsxs)("button",{type:"button",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,g.jsx)(M.A,{className:"w-4 h-4"}),"Preview Timeline"]}),(0,g.jsxs)("button",{type:"button",className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,g.jsx)(tR.A,{className:"w-4 h-4"}),"Auto-Sync Beats"]})]}),(0,g.jsx)("div",{className:"text-sm text-gray-400",children:"Drag scenes to reorder  Click + to add transitions"})]})]})};var tU=r(25541),tO=r(67760),t_=r(99270);let tF=(0,y.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),tz=[{id:"zoom-punch",name:"Zoom Punch",category:"tiktok-essentials",duration:.3,intensity:"extreme",viralScore:9.2,previewUrl:"/transitions/zoom-punch.mp4",glslCode:"uniform float progress; ...",parameters:[{name:"intensity",type:"float",value:1,min:.5,max:2,step:.1,description:"Zoom intensity"},{name:"rotation",type:"float",value:0,min:-180,max:180,step:1,description:"Rotation angle"}],description:"High-energy zoom transition perfect for TikTok content",tags:["viral","energetic","zoom","punch"]},{id:"glitch-blast",name:"Glitch Blast",category:"glitch",duration:.4,intensity:"extreme",viralScore:8.8,previewUrl:"/transitions/glitch-blast.mp4",glslCode:"uniform float progress; ...",parameters:[{name:"glitchAmount",type:"float",value:.8,min:.1,max:1,step:.1,description:"Glitch intensity"}],description:"Digital glitch effect with RGB separation",tags:["glitch","digital","cyberpunk","modern"]},{id:"film-burn",name:"Film Burn",category:"cinematic",duration:.6,intensity:"moderate",viralScore:7.5,previewUrl:"/transitions/film-burn.mp4",glslCode:"uniform float progress; ...",parameters:[{name:"burnSpeed",type:"float",value:1,min:.5,max:2,step:.1,description:"Burn speed"}],description:"Classic film burn transition for cinematic feel",tags:["cinematic","vintage","film","classic"]},{id:"cube-rotate",name:"Cube Rotate",category:"3d-transforms",duration:.5,intensity:"strong",viralScore:8.1,previewUrl:"/transitions/cube-rotate.mp4",glslCode:"uniform float progress; ...",parameters:[{name:"axis",type:"int",value:0,min:0,max:2,step:1,description:"Rotation axis (0=X, 1=Y, 2=Z)"}],description:"3D cube rotation transition",tags:["3d","rotation","geometric","modern"]}],tB={"tiktok-essentials":"TikTok Essentials",cinematic:"Cinematic","3d-transforms":"3D Transforms","particle-fx":"Particle FX","ai-generated":"AI Generated",glitch:"Glitch",organic:"Organic"},tG={subtle:"text-green-400",moderate:"text-yellow-400",strong:"text-orange-400",extreme:"text-red-400"},tX=({transition:e,isSelected:t,onSelect:r,onPreview:n})=>{let[s,l]=(0,x.useState)(!1),[a,i]=(0,x.useState)(!1);return(0,g.jsxs)("div",{className:`
        relative bg-gray-800 rounded-lg overflow-hidden cursor-pointer transition-all duration-200
        border-2 ${t?"border-blue-500 bg-blue-900/20":"border-gray-600 hover:border-gray-500"}
        transform hover:scale-105
      `,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:()=>r(e),children:[(0,g.jsxs)("div",{className:"relative aspect-video bg-gray-900",children:[(0,g.jsx)("video",{src:e.previewUrl,className:"w-full h-full object-cover",autoPlay:s,loop:!0,muted:!0,playsInline:!0}),(0,g.jsx)("div",{className:`
          absolute inset-0 bg-black/50 flex items-center justify-center
          transition-opacity duration-200
          ${s?"opacity-100":"opacity-0"}
        `,children:(0,g.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),n(e)},className:"bg-white/20 hover:bg-white/30 rounded-full p-3 transition-colors",title:"Preview Transition",children:(0,g.jsx)(M.A,{className:"w-6 h-6 text-white"})})}),(0,g.jsxs)("div",{className:"absolute top-2 right-2 bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex items-center gap-1",children:[(0,g.jsx)(tU.A,{className:"w-3 h-3"}),e.viralScore.toFixed(1)]}),(0,g.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),i(!a)},className:"absolute top-2 left-2 text-white hover:text-red-400 transition-colors",title:"Add to Favorites",children:(0,g.jsx)(tO.A,{className:`w-4 h-4 ${a?"fill-red-400 text-red-400":""}`})})]}),(0,g.jsxs)("div",{className:"p-3",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,g.jsx)("h4",{className:"font-semibold text-white truncate",children:e.name}),(0,g.jsx)("span",{className:`text-xs font-medium ${tG[e.intensity]}`,children:e.intensity.toUpperCase()})]}),(0,g.jsx)("p",{className:"text-xs text-gray-400 mb-2 line-clamp-2",children:e.description}),(0,g.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,g.jsxs)("span",{children:[e.duration,"s"]}),(0,g.jsx)("span",{className:"capitalize",children:tB[e.category]})]}),(0,g.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.slice(0,3).map(e=>(0,g.jsx)("span",{className:"bg-gray-700 text-gray-300 text-xs px-2 py-1 rounded-full",children:e},e))})]})]})},tq=({selectedTransition:e,onTransitionSelect:t,onTransitionPreview:r,isOpen:n,onClose:s})=>{let[l,a]=(0,x.useState)(""),[i,o]=(0,x.useState)("all"),[c,d]=(0,x.useState)("viral"),[u,h]=(0,x.useState)("all"),m=(0,x.useMemo)(()=>{let e=tz;return l&&(e=e.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.description.toLowerCase().includes(l.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(l.toLowerCase())))),"all"!==i&&(e=e.filter(e=>e.category===i)),"all"!==u&&(e=e.filter(e=>e.intensity===u)),e.sort((e,t)=>{switch(c){case"viral":return t.viralScore-e.viralScore;case"name":return e.name.localeCompare(t.name);case"duration":return e.duration-t.duration;default:return 0}}),e},[l,i,c,u]);return n?(0,g.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-gray-900 rounded-lg w-full max-w-6xl h-5/6 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Transition Library"}),(0,g.jsxs)("span",{className:"bg-purple-600 text-white text-sm px-3 py-1 rounded-full",children:[m.length," transitions"]})]}),(0,g.jsx)("button",{type:"button",onClick:s,className:"text-gray-400 hover:text-white text-2xl",children:"\xd7"})]}),(0,g.jsxs)("div",{className:"p-6 border-b border-gray-700 space-y-4",children:[(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)(t_.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,g.jsx)("input",{type:"text",placeholder:"Search transitions...",value:l,onChange:e=>a(e.target.value),className:"w-full bg-gray-800 text-white pl-10 pr-4 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none"})]}),(0,g.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,g.jsxs)("select",{value:i,onChange:e=>o(e.target.value),className:"bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",children:[(0,g.jsx)("option",{value:"all",children:"All Categories"}),Object.entries(tB).map(([e,t])=>(0,g.jsx)("option",{value:e,children:t},e))]}),(0,g.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",children:[(0,g.jsx)("option",{value:"all",children:"All Intensities"}),(0,g.jsx)("option",{value:"subtle",children:"Subtle"}),(0,g.jsx)("option",{value:"moderate",children:"Moderate"}),(0,g.jsx)("option",{value:"strong",children:"Strong"}),(0,g.jsx)("option",{value:"extreme",children:"Extreme"})]}),(0,g.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",children:[(0,g.jsx)("option",{value:"viral",children:"Viral Score"}),(0,g.jsx)("option",{value:"name",children:"Name"}),(0,g.jsx)("option",{value:"duration",children:"Duration"})]})]})]}),(0,g.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:m.map(n=>(0,g.jsx)(tX,{transition:n,isSelected:e?.id===n.id,onSelect:t,onPreview:r},n.id))}),0===m.length&&(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)(tF,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),(0,g.jsx)("p",{className:"text-gray-400",children:"No transitions found matching your criteria"})]})]})]})}):null};var t$=r(13943),tV=r(84027);let tY=(e,t,r)=>{let n=e.createShader(t);return n?(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))?n:(console.error("Shader compilation error:",e.getShaderInfoLog(n)),e.deleteShader(n),null):null},tW=(e,t,r)=>{let n=e.createProgram();return n?(e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS))?n:(console.error("Program linking error:",e.getProgramInfoLog(n)),e.deleteProgram(n),null):null},tH=(e,t)=>{let r=e.createTexture();return r?(e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),r):null},tK=`
  attribute vec2 a_position;
  attribute vec2 a_texCoord;
  varying vec2 v_texCoord;
  
  void main() {
    gl_Position = vec4(a_position, 0.0, 1.0);
    v_texCoord = a_texCoord;
  }
`,tJ=`
  precision mediump float;
  uniform sampler2D u_texture1;
  uniform sampler2D u_texture2;
  uniform float u_progress;
  varying vec2 v_texCoord;
  
  void main() {
    vec4 color1 = texture2D(u_texture1, v_texCoord);
    vec4 color2 = texture2D(u_texture2, v_texCoord);
    gl_FragColor = mix(color1, color2, u_progress);
  }
`,tZ=({video1Url:e,video2Url:t,transition:r,width:n=400,height:s=600,onPreviewStateChange:l})=>{let a=(0,x.useRef)(null),i=(0,x.useRef)(null),o=(0,x.useRef)(null),c=(0,x.useRef)(),d=(0,x.useRef)(null),u=(0,x.useRef)(null),h=(0,x.useRef)(null),m=(0,x.useRef)(null),[p,f]=(0,x.useState)({isPlaying:!1,progress:0,duration:r.duration,currentFrame:0,totalFrames:Math.floor(30*r.duration)}),[b,y]=(0,x.useState)(!0),[v,w]=(0,x.useState)(null),j=(0,x.useCallback)(()=>{let e=a.current;if(!e)return!1;let t=e.getContext("webgl");if(!t)return w("WebGL not supported"),!1;d.current=t;let n=tY(t,t.VERTEX_SHADER,tK),s=tY(t,t.FRAGMENT_SHADER,r.glslCode||tJ);if(!n||!s)return w("Failed to create shaders"),!1;let l=tW(t,n,s);if(!l)return w("Failed to create WebGL program"),!1;u.current=l;let i=new Float32Array([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW);let c=t.getAttribLocation(l,"a_position"),h=t.getAttribLocation(l,"a_texCoord");return t.enableVertexAttribArray(c),t.vertexAttribPointer(c,2,t.FLOAT,!1,16,0),t.enableVertexAttribArray(h),t.vertexAttribPointer(h,2,t.FLOAT,!1,16,8),!0},[r.glslCode]),N=(0,x.useCallback)(()=>{let e=d.current,t=i.current,r=o.current;return!!e&&!!t&&!!r&&(h.current=tH(e,t),m.current=tH(e,r),h.current&&m.current)},[]),k=(0,x.useCallback)(e=>{let t=d.current,n=u.current,s=i.current,l=o.current,a=h.current,c=m.current;if(!t||!n||!s||!l||!a||!c)return;t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,s),t.bindTexture(t.TEXTURE_2D,c),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,l),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT),t.useProgram(n);let g=t.getUniformLocation(n,"u_progress"),x=t.getUniformLocation(n,"u_texture1"),p=t.getUniformLocation(n,"u_texture2");t.uniform1f(g,e),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,a),t.uniform1i(x,0),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,c),t.uniform1i(p,1),r.parameters.forEach(e=>{let r=t.getUniformLocation(n,`u_${e.name}`);r&&("float"===e.type?t.uniform1f(r,e.value):"int"===e.type?t.uniform1i(r,e.value):"bool"===e.type&&t.uniform1i(r,+!!e.value))}),t.drawArrays(t.TRIANGLE_STRIP,0,4)},[r.parameters]),A=(0,x.useCallback)(()=>{if(!p.isPlaying)return;let e=Math.min(p.progress+1/p.totalFrames,1),t=Math.floor(e*p.totalFrames),r={...p,progress:e,currentFrame:t};f(r),l?.(r),k(e),e>=1&&f(e=>({...e,progress:0,currentFrame:0})),c.current=requestAnimationFrame(A)},[p,k,l]);(0,x.useEffect)(()=>{let e=i.current,t=o.current;if(!e||!t)return;let r=0,n=()=>{2==++r&&j()&&N()&&(y(!1),k(0))};return e.addEventListener("loadeddata",n),t.addEventListener("loadeddata",n),()=>{e.removeEventListener("loadeddata",n),t.removeEventListener("loadeddata",n)}},[j,N,k]),(0,x.useEffect)(()=>(p.isPlaying?c.current=requestAnimationFrame(A):c.current&&cancelAnimationFrame(c.current),()=>{c.current&&cancelAnimationFrame(c.current)}),[p.isPlaying,A]);let C=e=>{let t=Math.floor(e*p.totalFrames);f(r=>({...r,progress:e,currentFrame:t})),k(e)};return(0,g.jsxs)("div",{className:"bg-gray-900 rounded-lg p-4",children:[(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)("video",{ref:i,src:e,className:"hidden",crossOrigin:"anonymous",loop:!0,muted:!0,playsInline:!0}),(0,g.jsx)("video",{ref:o,src:t,className:"hidden",crossOrigin:"anonymous",loop:!0,muted:!0,playsInline:!0}),(0,g.jsx)("canvas",{ref:a,width:n,height:s,className:"w-full rounded-lg bg-black",style:{aspectRatio:`${n}/${s}`}}),(b||v)&&(0,g.jsx)("div",{className:"absolute inset-0 bg-black/80 flex items-center justify-center rounded-lg",children:b?(0,g.jsxs)("div",{className:"text-white text-center",children:[(0,g.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full mx-auto mb-2"}),(0,g.jsx)("p",{children:"Loading preview..."})]}):(0,g.jsx)("div",{className:"text-red-400 text-center",children:(0,g.jsxs)("p",{children:["Error: ",v]})})})]}),(0,g.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[(0,g.jsx)("span",{children:"Progress"}),(0,g.jsxs)("span",{children:[(100*p.progress).toFixed(1),"%"]})]}),(0,g.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:p.progress,onChange:e=>C(parseFloat(e.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${100*p.progress}%, #374151 ${100*p.progress}%, #374151 100%)`}})]}),(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("button",{type:"button",onClick:()=>{f(e=>({...e,isPlaying:!e.isPlaying}))},disabled:b||!!v,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white p-2 rounded-lg transition-colors",title:p.isPlaying?"Pause":"Play",children:p.isPlaying?(0,g.jsx)(E.A,{className:"w-4 h-4"}):(0,g.jsx)(M.A,{className:"w-4 h-4"})}),(0,g.jsx)("button",{type:"button",onClick:()=>{f(e=>({...e,progress:0,currentFrame:0,isPlaying:!1})),k(0)},disabled:b||!!v,className:"bg-gray-700 hover:bg-gray-600 disabled:bg-gray-600 text-white p-2 rounded-lg transition-colors",title:"Reset",children:(0,g.jsx)(t$.A,{className:"w-4 h-4"})})]}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("button",{type:"button",className:"bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg transition-colors",title:"Settings",children:(0,g.jsx)(tV.A,{className:"w-4 h-4"})}),(0,g.jsx)("button",{type:"button",className:"bg-gray-700 hover:bg-gray-600 text-white p-2 rounded-lg transition-colors",title:"Export Preview",children:(0,g.jsx)(S.A,{className:"w-4 h-4"})})]})]}),(0,g.jsxs)("div",{className:"text-sm text-gray-400 text-center",children:[r.name,"  ",r.duration,"s  Frame ",p.currentFrame+1,"/",p.totalFrames]})]})]})};var tQ=r(5336),t0=r(43649);let t1=(0,y.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),t2=(0,y.A)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),t4=({isOpen:e,onClose:t})=>{let[r,n]=(0,x.useState)(null),[s,l]=(0,x.useState)(!1),[a,i]=(0,x.useState)(!1),[o,c]=(0,x.useState)(null);(0,x.useEffect)(()=>{e&&!r&&d()},[e]);let d=async()=>{l(!0);try{let e=await fetch("/api/system/check-nvenc"),t=await e.json();n(t)}catch(e){console.error("Failed to check GPU status:",e)}finally{l(!1)}},u=async()=>{i(!0);try{let e=await fetch("/api/system/check-nvenc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({testDuration:2})}),t=await e.json();c(t)}catch(e){console.error("Performance test failed:",e)}finally{i(!1)}};return e?(0,g.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-gray-900 rounded-lg w-full max-w-4xl h-5/6 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)(A.A,{className:"w-6 h-6 text-blue-500"}),(0,g.jsx)("h2",{className:"text-2xl font-bold text-white",children:"GPU Acceleration Status"})]}),(0,g.jsx)("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-white text-2xl",children:"\xd7"})]}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:s?(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,g.jsx)("p",{className:"text-gray-400",children:"Checking GPU capabilities..."})]}):r?(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[r.supported?(0,g.jsx)(tQ.A,{className:"w-6 h-6 text-green-500"}):(0,g.jsx)(t0.A,{className:"w-6 h-6 text-yellow-500"}),(0,g.jsx)("h3",{className:"text-xl font-semibold text-white",children:r.supported?"GPU Acceleration Available":"GPU Acceleration Unavailable"})]}),r.gpu?(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"GPU Model"}),(0,g.jsx)("p",{className:"text-white font-semibold",children:r.gpu.name})]}),(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"VRAM"}),(0,g.jsxs)("p",{className:"text-white font-semibold",children:[r.gpu.memory," MB"]})]}),(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-4",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Driver"}),(0,g.jsx)("p",{className:"text-white font-semibold",children:r.gpu.driver})]})]}):(0,g.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:(0,g.jsx)("p",{className:"text-yellow-200",children:"No NVIDIA GPU detected or drivers not installed. CPU encoding will be used."})})]}),r.encoders&&(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Supported Encoders"}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(r.encoders).map(([e,t])=>(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[t?(0,g.jsx)(tQ.A,{className:"w-5 h-5 text-green-500"}):(0,g.jsx)(t0.A,{className:"w-5 h-5 text-gray-500"}),(0,g.jsx)("span",{className:`font-medium ${t?"text-white":"text-gray-500"}`,children:e.toUpperCase()})]},e))})]}),(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-4",children:"Performance Recommendations"}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"flex items-start gap-3",children:[(0,g.jsx)(t1,{className:"w-5 h-5 text-blue-500 mt-0.5"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h4",{className:"font-medium text-white",children:"Encoding"}),(0,g.jsx)("p",{className:"text-gray-400 text-sm",children:r.recommendations.encoding})]})]}),(0,g.jsxs)("div",{className:"flex items-start gap-3",children:[(0,g.jsx)(tV.A,{className:"w-5 h-5 text-blue-500 mt-0.5"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h4",{className:"font-medium text-white",children:"Quality Settings"}),(0,g.jsx)("p",{className:"text-gray-400 text-sm",children:r.recommendations.quality})]})]}),(0,g.jsxs)("div",{className:"flex items-start gap-3",children:[(0,g.jsx)(t2,{className:"w-5 h-5 text-blue-500 mt-0.5"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h4",{className:"font-medium text-white",children:"Concurrent Jobs"}),(0,g.jsx)("p",{className:"text-gray-400 text-sm",children:r.recommendations.concurrent})]})]}),(0,g.jsxs)("div",{className:"flex items-start gap-3",children:[(0,g.jsx)(A.A,{className:"w-5 h-5 text-blue-500 mt-0.5"}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h4",{className:"font-medium text-white",children:"Memory"}),(0,g.jsx)("p",{className:"text-gray-400 text-sm",children:r.recommendations.memory})]})]})]}),r.recommendations.settings&&(0,g.jsxs)("div",{className:"mt-6 bg-gray-700 rounded-lg p-4",children:[(0,g.jsx)("h4",{className:"font-medium text-white mb-3",children:"Optimal Settings"}),(0,g.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-400",children:"Preset:"}),(0,g.jsx)("span",{className:"text-white ml-2",children:r.recommendations.settings.preset})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-400",children:"CRF:"}),(0,g.jsx)("span",{className:"text-white ml-2",children:r.recommendations.settings.crf})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-400",children:"Max Jobs:"}),(0,g.jsx)("span",{className:"text-white ml-2",children:r.recommendations.settings.maxConcurrent})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("span",{className:"text-gray-400",children:"Resolution:"}),(0,g.jsx)("span",{className:"text-white ml-2",children:r.recommendations.settings.resolution})]})]})]})]}),(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Performance Test"}),(0,g.jsx)("button",{type:"button",onClick:u,disabled:a||!r.supported,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:a?"Testing...":"Run Test"})]}),o&&(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-gray-400",children:"Processing Time"}),(0,g.jsxs)("p",{className:"text-white font-semibold",children:[o.processingTime,"ms"]})]}),(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-gray-400",children:"FPS"}),(0,g.jsx)("p",{className:"text-white font-semibold",children:o.fps||"N/A"})]}),(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3",children:[(0,g.jsx)("h4",{className:"text-sm font-medium text-gray-400",children:"Speed"}),(0,g.jsx)("p",{className:"text-white font-semibold",children:o.speed?`${o.speed}x`:"N/A"})]})]}),(0,g.jsx)("div",{className:`p-3 rounded-lg ${o.success?"bg-green-900/20 border border-green-500/30":"bg-red-900/20 border border-red-500/30"}`,children:(0,g.jsx)("p",{className:o.success?"text-green-200":"text-red-200",children:o.recommendation})})]})]})]}):(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)(t0.A,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),(0,g.jsx)("p",{className:"text-gray-400",children:"Failed to check GPU status"}),(0,g.jsx)("button",{type:"button",onClick:d,className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Retry"})]})})]})}):null};var t3=r(93613);let t5=({scenes:e,isOpen:t,onClose:r,projectId:n})=>{let[s,l]=(0,x.useState)(""),[a,i]=(0,x.useState)({useGPU:!0,enableBeatSync:!0,viralMode:!0,outputFormat:"1080x1920"}),[o,c]=(0,x.useState)(null),[d,u]=(0,x.useState)(!1);(0,x.useEffect)(()=>{if(o&&"processing"===o.status){let e=setInterval(async()=>{try{let t=await fetch(`/api/python/render?jobId=${o.jobId}`),r=await t.json();r.success&&(c(e=>e?{...e,...r}:null),(100===r.progress||r.error)&&(u(!1),clearInterval(e)))}catch(e){console.error("Error polling job status:",e)}},2e3);return()=>clearInterval(e)}},[o]);let h=async()=>{if(!s.trim()){alert("Please enter a voiceover script");return}if(0===e.length){alert("No scenes available to render");return}u(!0);try{let t=await fetch("/api/python/render",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scenes:e.map(e=>({id:e.id,videoUrl:e.videoUrl,name:e.name,duration:e.duration})),voiceoverScript:s,options:a,projectId:n})}),r=await t.json();if(r.success)c({jobId:r.jobId,status:"queued",progress:0});else throw Error(r.error||"Failed to start render")}catch(e){console.error("Error starting render:",e),alert("Failed to start render: "+(e instanceof Error?e.message:"Unknown error")),u(!1)}};return t?(0,g.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,g.jsxs)("div",{className:"bg-gray-900 rounded-lg w-full max-w-4xl h-5/6 flex flex-col",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:(0,g.jsx)("span",{className:"text-white font-bold text-sm",children:"\uD83D\uDC0D"})}),(0,g.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Python Pipeline Render"})]}),(0,g.jsx)("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white text-2xl",children:"\xd7"})]}),(0,g.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Scenes to Render"}),(0,g.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:e.map((e,t)=>(0,g.jsx)("div",{className:"bg-gray-700 rounded-lg p-3",children:(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("img",{src:e.thumbnail,alt:e.name,className:"w-12 h-8 object-cover rounded"}),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsxs)("p",{className:"text-sm font-medium text-white truncate",children:["Scene ",t+1,": ",e.name]}),(0,g.jsxs)("p",{className:"text-xs text-gray-400",children:[Math.floor(e.duration/60),":",String(Math.floor(e.duration%60)).padStart(2,"0")]})]})]})},e.id))})]}),(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Voiceover Script"}),(0,g.jsx)("textarea",{value:s,onChange:e=>l(e.target.value),placeholder:"Enter your voiceover script here. This will be converted to speech and added to your video...",className:"w-full h-32 bg-gray-700 text-white p-3 rounded-lg resize-none border border-gray-600 focus:border-blue-500 focus:outline-none"}),(0,g.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Estimated speech duration: ~",Math.ceil(s.length/150)," seconds"]})]}),(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Render Options"}),(0,g.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsxs)("label",{className:"flex items-center gap-3",children:[(0,g.jsx)("input",{type:"checkbox",checked:a.useGPU,onChange:e=>i(t=>({...t,useGPU:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)(A.A,{className:"w-4 h-4 text-yellow-500"}),(0,g.jsx)("span",{className:"text-white",children:"GPU Acceleration (4x faster)"})]})]}),(0,g.jsxs)("label",{className:"flex items-center gap-3",children:[(0,g.jsx)("input",{type:"checkbox",checked:a.enableBeatSync,onChange:e=>i(t=>({...t,enableBeatSync:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)(v.A,{className:"w-4 h-4 text-purple-500"}),(0,g.jsx)("span",{className:"text-white",children:"Beat Synchronization"})]})]}),(0,g.jsxs)("label",{className:"flex items-center gap-3",children:[(0,g.jsx)("input",{type:"checkbox",checked:a.viralMode,onChange:e=>i(t=>({...t,viralMode:e.target.checked})),className:"w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500"}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)(w.A,{className:"w-4 h-4 text-pink-500"}),(0,g.jsx)("span",{className:"text-white",children:"Viral Effects (hooks, transitions)"})]})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Output Format"}),(0,g.jsxs)("select",{value:a.outputFormat,onChange:e=>i(t=>({...t,outputFormat:e.target.value})),className:"w-full bg-gray-700 text-white p-2 rounded-lg border border-gray-600 focus:border-blue-500 focus:outline-none",children:[(0,g.jsx)("option",{value:"1080x1920",children:"TikTok/Instagram Stories (9:16)"}),(0,g.jsx)("option",{value:"1080x1080",children:"Instagram Post (1:1)"}),(0,g.jsx)("option",{value:"1920x1080",children:"YouTube/Landscape (16:9)"})]})]})]})]}),o&&(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Render Status"}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,g.jsx)("span",{className:"text-sm text-gray-400",children:"Progress"}),(0,g.jsxs)("span",{className:"text-sm text-white",children:[o.progress,"%"]})]}),(0,g.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,g.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${o.progress}%`}})})]}),(0,g.jsxs)("div",{className:"flex items-center gap-3",children:["processing"===o.status&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(tR.A,{className:"w-5 h-5 text-blue-500 animate-spin"}),(0,g.jsx)("span",{className:"text-white",children:"Processing video..."})]}),"completed"===o.status&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(tQ.A,{className:"w-5 h-5 text-green-500"}),(0,g.jsx)("span",{className:"text-white",children:"Render completed!"})]}),"failed"===o.status&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(t3.A,{className:"w-5 h-5 text-red-500"}),(0,g.jsx)("span",{className:"text-white",children:"Render failed"})]})]}),o.stats&&(0,g.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 text-center",children:[(0,g.jsx)("p",{className:"text-xs text-gray-400",children:"Duration"}),(0,g.jsxs)("p",{className:"text-white font-semibold",children:[o.stats.duration,"s"]})]}),(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 text-center",children:[(0,g.jsx)("p",{className:"text-xs text-gray-400",children:"Transitions"}),(0,g.jsx)("p",{className:"text-white font-semibold",children:o.stats.transitions})]}),(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 text-center",children:[(0,g.jsx)("p",{className:"text-xs text-gray-400",children:"Beat Sync"}),(0,g.jsx)("p",{className:"text-white font-semibold",children:o.stats.beatSync?"Yes":"No"})]}),(0,g.jsxs)("div",{className:"bg-gray-700 rounded-lg p-3 text-center",children:[(0,g.jsx)("p",{className:"text-xs text-gray-400",children:"GPU"}),(0,g.jsx)("p",{className:"text-white font-semibold",children:o.stats.gpuAcceleration?"Yes":"No"})]})]}),o.error&&(0,g.jsx)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-3",children:(0,g.jsx)("p",{className:"text-red-200 text-sm",children:o.error})})]})]})]}),(0,g.jsx)("div",{className:"p-6 border-t border-gray-700",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{className:"text-sm text-gray-400",children:[e.length," scenes  Estimated render time: ",e.length*(a.useGPU?10:40),"s"]}),(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[o?.status==="completed"&&o.outputUrl&&(0,g.jsxs)("button",{type:"button",onClick:()=>{if(o?.outputUrl){let e=document.createElement("a");e.href=o.outputUrl,e.download=`aeon_video_${o.jobId}.mp4`,e.click()}},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,g.jsx)(S.A,{className:"w-4 h-4"}),"Download Video"]}),(0,g.jsxs)("button",{type:"button",onClick:h,disabled:d||!s.trim(),className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,g.jsx)(M.A,{className:"w-4 h-4"}),d?"Rendering...":"Start Render"]})]})]})})]})}):null},t6=()=>{let[e,t]=(0,x.useState)({project:null,selectedScene:null,selectedTransition:null,playbackTime:0,isPlaying:!1,zoom:1,previewQuality:"medium",showBeatMarkers:!0,snapToBeat:!0}),[r,n]=(0,x.useState)(!1),[s,l]=(0,x.useState)(!1),[a,i]=(0,x.useState)(!1),[o,c]=(0,x.useState)(!1),[d,u]=(0,x.useState)(!1),[h,m]=(0,x.useState)(!1),[p,y]=(0,x.useState)(""),[w,T]=(0,x.useState)([]),[D,R]=(0,x.useState)([]),[P,I]=(0,x.useState)([]),[L,U]=(0,x.useState)(null);(0,x.useRef)(null),(0,x.useEffect)(()=>{O()},[]);let O=(0,x.useCallback)(async()=>{m(!0);try{let e=[{id:"scene-1",name:"Opening Scene",duration:87.4,thumbnail:"/thumbnails/scene1.jpg",videoUrl:"/videos/scene1.mp4",beatMarkers:[.4,1.2,3.8,5.1,7.2],metadata:{resolution:"1080x1920",fps:30,fileSize:45e6,createdAt:new Date().toISOString()}},{id:"scene-2",name:"Main Content",duration:120.8,thumbnail:"/thumbnails/scene2.jpg",videoUrl:"/videos/scene2.mp4",beatMarkers:[.8,2.1,4.5,6.8,9.2],metadata:{resolution:"1080x1920",fps:30,fileSize:62e6,createdAt:new Date().toISOString()}}];T(e);let t=[];for(let r=0;r<e.length-1;r++)t.push({id:`slot-${r}`,beforeSceneId:e[r].id,afterSceneId:e[r+1].id,beatSynced:!1});R(t),I([{time:.5,strength:.8,type:"kick"},{time:1.2,strength:.6,type:"snare"},{time:2.1,strength:.9,type:"kick"},{time:3,strength:.7,type:"hihat"}])}catch(e){console.error("Error loading project data:",e)}finally{m(!1)}},[]),_=(0,x.useCallback)(e=>{T(e);let t=[];for(let r=0;r<e.length-1;r++){let n=D.find(t=>t.beforeSceneId===e[r].id&&t.afterSceneId===e[r+1].id);t.push(n||{id:`slot-${r}`,beforeSceneId:e[r].id,afterSceneId:e[r+1].id,beatSynced:!1})}R(t)},[D]),F=(0,x.useCallback)(e=>{t(t=>({...t,selectedScene:e}))},[]),z=(0,x.useCallback)(e=>{U(e),l(!0)},[]),B=(0,x.useCallback)(e=>{R(t=>t.map(t=>t.id===e?{...t,transition:void 0,customParameters:void 0}:t))},[]),G=(0,x.useCallback)(e=>{L&&(R(t=>t.map(t=>t.id===L?{...t,transition:e,customParameters:{}}:t)),l(!1),U(null))},[L]),X=(0,x.useCallback)(async e=>{if(!L)return;let t=D.find(e=>e.id===L);if(!t)return;let r=w.find(e=>e.id===t.beforeSceneId),n=w.find(e=>e.id===t.afterSceneId);r&&n&&i(!0)},[L,D,w]);return(0,g.jsxs)("div",{className:"flex flex-col h-screen bg-gray-950 text-white",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-800",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("h1",{className:"text-2xl font-bold",children:"AEON Video Editor"}),(0,g.jsx)("span",{className:"text-sm text-gray-400",children:"Project: Untitled"})]}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsxs)("button",{type:"button",className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center gap-2 transition-colors",children:[(0,g.jsx)(N.A,{className:"w-4 h-4"}),"Save"]}),(0,g.jsxs)("button",{type:"button",className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg flex items-center gap-2 transition-colors",children:[(0,g.jsx)(k,{className:"w-4 h-4"}),"Share"]}),(0,g.jsxs)("button",{type:"button",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg flex items-center gap-2 transition-colors",children:[(0,g.jsx)(S.A,{className:"w-4 h-4"}),"Export"]})]})]}),(0,g.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,g.jsxs)("div",{className:"w-80 bg-gray-900 border-r border-gray-700 flex flex-col",children:[(0,g.jsxs)("div",{className:"p-4 border-b border-gray-700",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Tools & Templates"}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("button",{type:"button",onClick:()=>l(!0),className:"w-full bg-purple-600 hover:bg-purple-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,g.jsx)(A.A,{className:"w-5 h-5"}),"Transition Library"]}),(0,g.jsxs)("button",{type:"button",onClick:()=>i(!a),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,g.jsx)(C,{className:"w-5 h-5"}),"Preview Panel"]}),(0,g.jsxs)("button",{type:"button",className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,g.jsx)(v.A,{className:"w-5 h-5"}),"Auto-Sync Beats"]}),(0,g.jsxs)("button",{type:"button",onClick:()=>c(!0),className:"w-full bg-orange-600 hover:bg-orange-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,g.jsx)(A.A,{className:"w-5 h-5"}),"GPU Status"]}),(0,g.jsxs)("button",{type:"button",onClick:()=>u(!0),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[(0,g.jsx)("span",{className:"text-lg",children:"\uD83D\uDC0D"}),"Python Render"]})]})]}),(0,g.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[(0,g.jsxs)("h4",{className:"text-sm font-medium text-gray-400 mb-3",children:["Scenes (",w.length,")"]}),(0,g.jsx)("div",{className:"space-y-2",children:w.map(t=>(0,g.jsx)("div",{className:`p-3 rounded-lg cursor-pointer transition-colors ${e.selectedScene===t.id?"bg-blue-600 text-white":"bg-gray-800 hover:bg-gray-700 text-gray-300"}`,onClick:()=>F(t.id),children:(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("img",{src:t.thumbnail,alt:t.name,className:"w-12 h-8 object-cover rounded"}),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsx)("p",{className:"text-sm font-medium truncate",children:t.name}),(0,g.jsxs)("p",{className:"text-xs opacity-75",children:[Math.floor(t.duration/60),":",String(Math.floor(t.duration%60)).padStart(2,"0")]})]})]})},t.id))})]})]}),(0,g.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,g.jsx)("div",{className:"flex-1 bg-black flex items-center justify-center p-8",children:h?(0,g.jsxs)("div",{className:"text-white text-center",children:[(0,g.jsx)("div",{className:"animate-spin w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),(0,g.jsx)("p",{children:"Loading project..."})]}):(0,g.jsxs)("div",{className:"relative w-full max-w-4xl",children:[(0,g.jsx)("div",{className:"aspect-[9/16] bg-gray-900 rounded-lg overflow-hidden",children:(0,g.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)(j.A,{className:"w-16 h-16 mx-auto mb-4"}),(0,g.jsx)("p",{children:"Select a scene to preview"})]})})}),(0,g.jsx)("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center gap-4 bg-gray-900 bg-opacity-90 px-6 py-3 rounded-full",children:(0,g.jsx)("button",{type:"button",onClick:()=>t(e=>({...e,isPlaying:!e.isPlaying})),className:"bg-blue-600 hover:bg-blue-700 p-3 rounded-full transition-colors",children:e.isPlaying?(0,g.jsx)(E.A,{className:"w-5 h-5"}):(0,g.jsx)(M.A,{className:"w-5 h-5"})})})]})}),(0,g.jsx)(tL,{scenes:w,transitionSlots:D,selectedSceneId:e.selectedScene,beatMarkers:P,showBeatMarkers:e.showBeatMarkers,onScenesReorder:_,onSceneSelect:F,onTransitionSelect:z,onTransitionRemove:B})]}),a&&L&&(0,g.jsxs)("div",{className:"w-96 bg-gray-900 border-l border-gray-700 p-4",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,g.jsx)("h3",{className:"text-lg font-semibold",children:"Transition Preview"}),(0,g.jsx)("button",{type:"button",onClick:()=>i(!1),className:"text-gray-400 hover:text-white",children:"\xd7"})]}),(()=>{let e=D.find(e=>e.id===L),t=e?w.find(t=>t.id===e.beforeSceneId):null,r=e?w.find(t=>t.id===e.afterSceneId):null;return e?.transition&&t&&r?(0,g.jsx)(tZ,{video1Url:t.videoUrl,video2Url:r.videoUrl,transition:e.transition,width:320,height:568}):(0,g.jsxs)("div",{className:"text-center text-gray-400 py-8",children:[(0,g.jsx)(A.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,g.jsx)("p",{children:"Select a transition to preview"})]})})()]})]}),(0,g.jsx)(tq,{selectedTransition:L&&D.find(e=>e.id===L)?.transition||null,onTransitionSelect:G,onTransitionPreview:X,isOpen:s,onClose:()=>{l(!1),U(null)}}),(0,g.jsx)(t4,{isOpen:o,onClose:()=>c(!1)}),(0,g.jsx)(t5,{scenes:w,isOpen:d,onClose:()=>u(!1),projectId:"current-project"}),r&&(0,g.jsx)(()=>{let[e,t]=(0,x.useState)(""),[r]=(0,x.useState)(["Sync transitions to beat markers automatically","Optimize transition timing for viral engagement","Apply GPU-accelerated effects to all scenes","Generate beat-synced captions automatically"]),s=async()=>{m(!0);try{let e=w.reduce((e,t)=>e+t.duration,0),t=D.filter(e=>e.transition).length,r=D.filter(e=>e.beatSynced).length;setTimeout(()=>{y(` **AEON AI Analysis Complete**

**Project Overview:**
 ${w.length} scenes, ${Math.floor(e/60)}:${String(Math.floor(e%60)).padStart(2,"0")} total duration
 ${t}/${D.length} transitions applied
 ${r} beat-synchronized transitions
 ${P.length} beat markers detected

**Viral Optimization Recommendations:**

1. ** Beat Synchronization**: ${r<D.length?"Sync remaining transitions to beat markers for 23% higher engagement":"Perfect beat sync achieved! \uD83D\uDD25"}

2. ** Transition Intensity**: Add high-energy transitions (Zoom Punch, Glitch Blast) at beat drops for maximum viral potential

3. ** Timing Optimization**: Place strongest transitions at 0:03, 0:15, and 0:45 for TikTok algorithm optimization

4. ** GPU Acceleration**: Enable GPU rendering for 4x faster preview generation and smoother editing

5. ** Viral Score**: Current project viral score: ${(7.2+2*Math.random()).toFixed(1)}/10

**Auto-Apply Options:**
 Sync all transitions to beats
 Apply viral transition templates
 Optimize for TikTok/Instagram algorithms
 Generate beat-synced captions

Would you like me to apply these optimizations automatically?`),m(!1)},2e3)}catch(e){console.error("AI analysis error:",e),m(!1)}};return(0,g.jsxs)("div",{className:"w-80 bg-gray-900 border-l border-gray-700 p-4 overflow-y-auto",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,g.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,g.jsx)(f.A,{className:"w-5 h-5"}),"AI Assistant"]}),(0,g.jsx)("button",{type:"button",onClick:()=>n(!1),className:"text-gray-400 hover:text-white",children:"\xd7"})]}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-3",children:[(0,g.jsx)("p",{className:"text-sm text-gray-300 mb-2",children:"Quick Actions"}),(0,g.jsx)("div",{className:"space-y-2",children:r.map((e,r)=>(0,g.jsx)("button",{type:"button",className:"w-full text-left text-sm bg-gray-700 hover:bg-gray-600 p-2 rounded transition-colors",onClick:()=>t(e),children:e},r))})]}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Ask AI for editing suggestions...",className:"w-full bg-gray-800 text-white p-3 rounded-lg resize-none h-24"}),(0,g.jsx)("button",{type:"button",onClick:s,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",disabled:h,children:h?(0,g.jsx)(g.Fragment,{children:"Processing..."}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b.A,{className:"w-4 h-4"}),"Get AI Suggestions"]})})]}),p&&(0,g.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4",children:[(0,g.jsx)("h4",{className:"font-semibold mb-2",children:"AI Recommendations"}),(0,g.jsx)("div",{className:"text-sm text-gray-300 whitespace-pre-line",children:p}),(0,g.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,g.jsx)("button",{type:"button",className:"w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded transition-colors",children:"Apply All Suggestions"}),(0,g.jsx)("button",{type:"button",className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 rounded transition-colors",children:"Apply Selectively"})]})]})]})]})},{}),!r&&(0,g.jsx)("button",{type:"button",onClick:()=>n(!0),className:"fixed right-4 bottom-4 bg-blue-600 hover:bg-blue-700 p-4 rounded-full shadow-lg transition-all transform hover:scale-110 z-50",title:"Open AI Assistant",children:(0,g.jsx)(f.A,{className:"w-6 h-6"})})]})};function t8(){return(0,g.jsx)(t6,{})}},78335:()=>{},84027:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},85303:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},93613:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},96487:()=>{},97840:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},99270:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(62688).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[4447,7694,6866],()=>r(37481));module.exports=n})();