"use strict";exports.id=1563,exports.ids=[1563],exports.modules={33944:(t,e,r)=>{r.r(e),r.d(e,{AsyncParser:()=>t5,Parser:()=>t2,Transform:()=>t6,default:()=>et,parse:()=>t9,parseAsync:()=>t8,transforms:()=>t7});var i=r(27910),n=r.n(i),s=r(21820),o=r.n(s);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e,r){return e&&h(t.prototype,e),r&&h(t,r),t}function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),i.forEach(function(e){c(t,e,r[e])})}return t}function l(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e){return e&&("object"==typeof e||"function"==typeof e)?e:function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return function(t){if(Array.isArray(t))return t}(t)||b(t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}()}function b(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}var S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_="__lodash_hash_undefined__",m=1/0,O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/,k=/^\./,w=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,j=/\\(\\)?/g,T=/^\[object .+?Constructor\]$/,A="object"==typeof S&&S&&S.Object===Object&&S,B="object"==typeof self&&self&&self.Object===Object&&self,R=A||B||Function("return this")(),C=Array.prototype,P=Function.prototype,N=Object.prototype,I=R["__core-js_shared__"],F=function(){var t=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),q=P.toString,L=N.hasOwnProperty,J=N.toString,x=RegExp("^"+q.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=R.Symbol,D=C.splice,M=z(R,"Map"),$=z(Object,"create"),G=U?U.prototype:void 0,V=G?G.toString:void 0;function H(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Q(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function W(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Y(t,e){for(var r,i,n=t.length;n--;){if(r=t[n][0],r===(i=e)||r!=r&&i!=i)return n}return -1}function K(t,e){var r,i,n=t.__data__;return("string"==(i=typeof(r=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==r:null===r)?n["string"==typeof e?"string":"hash"]:n.map}function z(t,e){var r,i,n,s=null==t?void 0:t[e];return!(!te(s)||(r=s,F&&F in r))&&("[object Function]"==(n=te(i=s)?J.call(i):"")||"[object GeneratorFunction]"==n||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(s)?x:T).test(function(t){if(null!=t){try{return q.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(s))?s:void 0}H.prototype.clear=function(){this.__data__=$?$(null):{}},H.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},H.prototype.get=function(t){var e=this.__data__;if($){var r=e[t];return r===_?void 0:r}return L.call(e,t)?e[t]:void 0},H.prototype.has=function(t){var e=this.__data__;return $?void 0!==e[t]:L.call(e,t)},H.prototype.set=function(t,e){return this.__data__[t]=$&&void 0===e?_:e,this},Q.prototype.clear=function(){this.__data__=[]},Q.prototype.delete=function(t){var e=this.__data__,r=Y(e,t);return!(r<0)&&(r==e.length-1?e.pop():D.call(e,r,1),!0)},Q.prototype.get=function(t){var e=this.__data__,r=Y(e,t);return r<0?void 0:e[r][1]},Q.prototype.has=function(t){return Y(this.__data__,t)>-1},Q.prototype.set=function(t,e){var r=this.__data__,i=Y(r,t);return i<0?r.push([t,e]):r[i][1]=e,this},W.prototype.clear=function(){this.__data__={hash:new H,map:new(M||Q),string:new H}},W.prototype.delete=function(t){return K(this,t).delete(t)},W.prototype.get=function(t){return K(this,t).get(t)},W.prototype.has=function(t){return K(this,t).has(t)},W.prototype.set=function(t,e){return K(this,t).set(t,e),this};var X=Z(function(t){t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(tr(t))return V?V.call(t):"";var e=t+"";return"0"==e&&1/t==-m?"-0":e}(e);var e,r=[];return k.test(t)&&r.push(""),t.replace(w,function(t,e,i,n){r.push(i?n.replace(j,"$1"):e||t)}),r});function Z(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw TypeError("Expected a function");var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var o=t.apply(this,i);return r.cache=s.set(n,o),o};return r.cache=new(Z.Cache||W),r}Z.Cache=W;var tt=Array.isArray;function te(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function tr(t){return"symbol"==typeof t||!!t&&"object"==typeof t&&"[object Symbol]"==J.call(t)}var ti=function(t,e,r){var i=null==t?void 0:function(t,e){var r;e=!function(t,e){if(tt(t))return!1;var r=typeof t;return!!("number"==r||"symbol"==r||"boolean"==r||null==t||tr(t))||E.test(t)||!O.test(t)||null!=e&&t in Object(e)}(e,t)?tt(r=e)?r:X(r):[e];for(var i=0,n=e.length;null!=t&&i<n;)t=t[function(t){if("string"==typeof t||tr(t))return t;var e=t+"";return"0"==e&&1/t==-m?"-0":e}(e[i++])];return i&&i==n?t:void 0}(t,e);return void 0===i?r:i},tn={getProp:function(t,e,r){return void 0===t[e]?r:t[e]},setProp:function t(e,r,i){var n=Array.isArray(r)?r:r.split("."),s=v(n),o=s[0],a=s.slice(1);return p({},e,c({},o,n.length>1?t(e[o]||{},a,i):i))},unsetProp:function t(e,r){var i=Array.isArray(r)?r:r.split("."),n=v(i),s=n[0],o=n.slice(1);return"object"!==a(e[s])?e:1===i.length?Object.keys(e).filter(function(t){return t!==s}).reduce(function(t,r){return Object.assign(t,c({},r,e[r]))},{}):Object.keys(e).reduce(function(r,i){return p({},r,c({},i,i!==s?e[i]:t(e[s],o)))},{})},fastJoin:function(t,e){var r=!0;return t.reduce(function(t,i){return(null==i&&(i=""),r)?(r=!1,"".concat(i)):"".concat(t).concat(e).concat(i)},"")},flattenReducer:function(t,e){try{return t.push.apply(t,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(e)||b(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()),t}catch(r){return t.concat(e)}}},ts=tn.getProp,to=tn.fastJoin,ta=tn.flattenReducer,tu=function(){function t(e){u(this,t),this.opts=this.preprocessOpts(e)}return f(t,[{key:"preprocessOpts",value:function(t){var e=Object.assign({},t);return e.transforms=Array.isArray(e.transforms)?e.transforms:e.transforms?[e.transforms]:[],e.delimiter=e.delimiter||",",e.eol=e.eol||o().EOL,e.quote="string"==typeof e.quote?e.quote:'"',e.escapedQuote="string"==typeof e.escapedQuote?e.escapedQuote:"".concat(e.quote).concat(e.quote),e.header=!1!==e.header,e.includeEmptyRows=e.includeEmptyRows||!1,e.withBOM=e.withBOM||!1,e}},{key:"preprocessFieldsInfo",value:function(t){var e=this;return t.map(function(t){if("string"==typeof t)return{label:t,value:t.includes(".")||t.includes("[")?function(r){return ti(r,t,e.opts.defaultValue)}:function(r){return ts(r,t,e.opts.defaultValue)}};if("object"===a(t)){var r="default"in t?t.default:e.opts.defaultValue;if("string"==typeof t.value)return{label:t.label||t.value,value:t.value.includes(".")||t.value.includes("[")?function(e){return ti(e,t.value,r)}:function(e){return ts(e,t.value,r)}};if("function"==typeof t.value){var i=t.label||t.value.name||"",n={label:i,default:r};return{label:i,value:function(e){var i=t.value(e,n);return null==i?r:i}}}}throw Error("Invalid field info option. "+JSON.stringify(t))})}},{key:"getHeader",value:function(){var t=this;return to(this.opts.fields.map(function(e){return t.processValue(e.label)}),this.opts.delimiter)}},{key:"preprocessRow",value:function(t){return this.opts.transforms.reduce(function(t,e){return t.map(function(t){return e(t)}).reduce(ta,[])},[t])}},{key:"processRow",value:function(t){var e=this;if(t){var r=this.opts.fields.map(function(r){return e.processCell(t,r)});if(!(!this.opts.includeEmptyRows&&r.every(function(t){return void 0===t})))return to(r,this.opts.delimiter)}}},{key:"processCell",value:function(t,e){return this.processValue(e.value(t))}},{key:"processValue",value:function(t){if(null!=t){var e=a(t);if("boolean"!==e&&"number"!==e&&"string"!==e){if(void 0===(t=JSON.stringify(t)))return;'"'===t[0]&&(t=t.replace(/^"(.+)"$/,"$1"))}return"string"==typeof t&&(this.opts.excelStrings?(t.includes(this.opts.quote)&&(t=t.replace(RegExp(this.opts.quote,"g"),"".concat(this.opts.escapedQuote).concat(this.opts.escapedQuote))),t='"=""'.concat(t,'"""')):(t.includes(this.opts.quote)&&(t=t.replace(RegExp(this.opts.quote,"g"),this.opts.escapedQuote)),t="".concat(this.opts.quote).concat(t).concat(this.opts.quote))),t}}}]),t}(),th=tn.fastJoin,tf=tn.flattenReducer,tc=function(t){function e(t){var r;return u(this,e),(r=g(this,d(e).call(this,t))).opts.fields&&(r.opts.fields=r.preprocessFieldsInfo(r.opts.fields)),r}return l(e,t),f(e,[{key:"parse",value:function(t){var e=this.preprocessData(t);this.opts.fields||(this.opts.fields=e.reduce(function(t,e){return Object.keys(e).forEach(function(e){t.includes(e)||t.push(e)}),t},[]),this.opts.fields=this.preprocessFieldsInfo(this.opts.fields));var r=this.opts.header?this.getHeader():"",i=this.processData(e);return(this.opts.withBOM?"\uFEFF":"")+r+(r&&i?this.opts.eol:"")+i}},{key:"preprocessData",value:function(t){var e=this,r=Array.isArray(t)?t:[t];if(!this.opts.fields&&(0===r.length||"object"!==a(r[0])))throw Error('Data should not be empty or the "fields" option should be included');return 0===this.opts.transforms.length?r:r.map(function(t){return e.preprocessRow(t)}).reduce(tf,[])}},{key:"processData",value:function(t){var e=this;return th(t.map(function(t){return e.processRow(t)}).filter(function(t){return t}),this.opts.eol)}}]),e}(tu),tp={},tl=tp.LEFT_BRACE=1,td=tp.RIGHT_BRACE=2,ty=tp.LEFT_BRACKET=3,tg=tp.RIGHT_BRACKET=4,tv=tp.COLON=5,tb=tp.COMMA=6,tS=tp.TRUE=7,t_=tp.FALSE=8,tm=tp.NULL=9,tO=tp.STRING=10,tE=tp.NUMBER=11,tk=tp.START=17,tw=tp.STOP=18,tj=tp.TRUE1=33,tT=tp.TRUE2=34,tA=tp.TRUE3=35,tB=tp.FALSE1=49,tR=tp.FALSE2=50,tC=tp.FALSE3=51,tP=tp.FALSE4=52,tN=tp.NULL1=65,tI=tp.NULL2=66,tF=tp.NULL3=67,tq=tp.NUMBER1=81,tL=tp.NUMBER3=83,tJ=tp.STRING1=97,tx=tp.STRING2=98,tU=tp.STRING3=99,tD=tp.STRING4=100,tM=tp.STRING5=101,t$=tp.STRING6=102,tG=tp.VALUE=113,tV=tp.KEY=114,tH=tp.OBJECT=129,tQ=tp.ARRAY=130;function tW(){this.tState=tk,this.value=void 0,this.string=void 0,this.stringBuffer=Buffer.alloc?Buffer.alloc(65536):new Buffer(65536),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=tG,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.offset=-1}tW.toknam=function(t){for(var e=Object.keys(tp),r=0,i=e.length;r<i;r++){var n=e[r];if(tp[n]===t)return n}return t&&"0x"+t.toString(16)};var tY=tW.prototype;tY.onError=function(t){throw t},tY.charError=function(t,e){this.tState=tw,this.onError(Error("Unexpected "+JSON.stringify(String.fromCharCode(t[e]))+" at position "+e+" in state "+tW.toknam(this.tState)))},tY.appendStringChar=function(t){this.stringBufferOffset>=65536&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=t},tY.appendStringBuf=function(t,e,r){var i=t.length;"number"==typeof e&&(i="number"==typeof r?r<0?t.length-e+r:r-e:t.length-e),i<0&&(i=0),this.stringBufferOffset+i>65536&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),t.copy(this.stringBuffer,this.stringBufferOffset,e,r),this.stringBufferOffset+=i},tY.write=function(t){"string"==typeof t&&(t=new Buffer(t));for(var e,r=0,i=t.length;r<i;r++)if(this.tState===tk){if(e=t[r],this.offset++,123===e)this.onToken(tl,"{");else if(125===e)this.onToken(td,"}");else if(91===e)this.onToken(ty,"[");else if(93===e)this.onToken(tg,"]");else if(58===e)this.onToken(tv,":");else if(44===e)this.onToken(tb,",");else if(116===e)this.tState=tj;else if(102===e)this.tState=tB;else if(110===e)this.tState=tN;else if(34===e)this.string="",this.stringBufferOffset=0,this.tState=tJ;else if(45===e)this.string="-",this.tState=tq;else if(e>=48&&e<64)this.string=String.fromCharCode(e),this.tState=tL;else if(32!==e&&9!==e&&10!==e&&13!==e)return this.charError(t,r)}else if(this.tState===tJ){if(e=t[r],this.bytes_remaining>0){for(var n=0;n<this.bytes_remaining;n++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+n]=t[n];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+n-1}else if(0===this.bytes_remaining&&e>=128){if(e<=193||e>244)return this.onError(Error("Invalid UTF-8 character at position "+r+" in state "+tW.toknam(this.tState)));if(e>=194&&e<=223&&(this.bytes_in_sequence=2),e>=224&&e<=239&&(this.bytes_in_sequence=3),e>=240&&e<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>t.length){for(var s=0;s<=t.length-1-r;s++)this.temp_buffs[this.bytes_in_sequence][s]=t[r+s];this.bytes_remaining=r+this.bytes_in_sequence-t.length,r=t.length-1}else this.appendStringBuf(t,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(34===e)this.tState=tk,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(tO,this.string),this.offset+=Buffer.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===e)this.tState=tx;else{if(!(e>=32))return this.charError(t,r);this.appendStringChar(e)}}else if(this.tState===tx){if(34===(e=t[r]))this.appendStringChar(e),this.tState=tJ;else if(92===e)this.appendStringChar(92),this.tState=tJ;else if(47===e)this.appendStringChar(47),this.tState=tJ;else if(98===e)this.appendStringChar(8),this.tState=tJ;else if(102===e)this.appendStringChar(12),this.tState=tJ;else if(110===e)this.appendStringChar(10),this.tState=tJ;else if(114===e)this.appendStringChar(13),this.tState=tJ;else if(116===e)this.appendStringChar(9),this.tState=tJ;else{if(117!==e)return this.charError(t,r);this.unicode="",this.tState=tU}}else if(this.tState===tU||this.tState===tD||this.tState===tM||this.tState===t$){if((!((e=t[r])>=48)||!(e<64))&&(!(e>64)||!(e<=70))&&(!(e>96)||!(e<=102)))return this.charError(t,r);if(this.unicode+=String.fromCharCode(e),this.tState++===t$){var o=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&o>=56320&&o<57344?(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate,o))),this.highSurrogate=void 0):void 0===this.highSurrogate&&o>=55296&&o<56320?this.highSurrogate=o:(void 0!==this.highSurrogate&&(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new Buffer(String.fromCharCode(o)))),this.tState=tJ}}else if(this.tState===tq||this.tState===tL)switch(e=t[r]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(e),this.tState=tL;break;default:this.tState=tk;var a=Number(this.string);if(isNaN(a))return this.charError(t,r);this.string.match(/[0-9]+/)==this.string&&a.toString()!=this.string?this.onToken(tO,this.string):this.onToken(tE,a),this.offset+=this.string.length-1,this.string=void 0,r--}else if(this.tState===tj){if(114!==t[r])return this.charError(t,r);this.tState=tT}else if(this.tState===tT){if(117!==t[r])return this.charError(t,r);this.tState=tA}else if(this.tState===tA){if(101!==t[r])return this.charError(t,r);this.tState=tk,this.onToken(tS,!0),this.offset+=3}else if(this.tState===tB){if(97!==t[r])return this.charError(t,r);this.tState=tR}else if(this.tState===tR){if(108!==t[r])return this.charError(t,r);this.tState=tC}else if(this.tState===tC){if(115!==t[r])return this.charError(t,r);this.tState=tP}else if(this.tState===tP){if(101!==t[r])return this.charError(t,r);this.tState=tk,this.onToken(t_,!1),this.offset+=4}else if(this.tState===tN){if(117!==t[r])return this.charError(t,r);this.tState=tI}else if(this.tState===tI){if(108!==t[r])return this.charError(t,r);this.tState=tF}else if(this.tState===tF){if(108!==t[r])return this.charError(t,r);this.tState=tk,this.onToken(tm,null),this.offset+=3}},tY.onToken=function(t,e){},tY.parseError=function(t,e){this.tState=tw,this.onError(Error("Unexpected "+tW.toknam(t)+(e?"("+JSON.stringify(e)+")":"")+" in state "+tW.toknam(this.state)))},tY.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},tY.pop=function(){var t=this.value,e=this.stack.pop();this.value=e.value,this.key=e.key,this.mode=e.mode,this.emit(t),this.mode||(this.state=tG)},tY.emit=function(t){this.mode&&(this.state=tb),this.onValue(t)},tY.onValue=function(t){},tY.onToken=function(t,e){if(this.state===tG){if(t===tO||t===tE||t===tS||t===t_||t===tm)this.value&&(this.value[this.key]=e),this.emit(e);else if(t===tl)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=tV,this.mode=tH;else if(t===ty)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=tQ,this.state=tG;else if(t===td){if(this.mode!==tH)return this.parseError(t,e);this.pop()}else{if(t!==tg||this.mode!==tQ)return this.parseError(t,e);this.pop()}}else if(this.state===tV){if(t===tO)this.key=e,this.state=tv;else{if(t!==td)return this.parseError(t,e);this.pop()}}else if(this.state===tv){if(t!==tv)return this.parseError(t,e);this.state=tG}else if(this.state!==tb)return this.parseError(t,e);else if(t===tb)this.mode===tQ?(this.key++,this.state=tG):this.mode===tH&&(this.state=tV);else{if((t!==tg||this.mode!==tQ)&&(t!==td||this.mode!==tH))return this.parseError(t,e);this.pop()}},tW.C=tp;var tK=function(t){function e(t,r){var i;return u(this,e),i=g(this,d(e).call(this,r)),Object.getOwnPropertyNames(tu.prototype).forEach(function(t){return i[t]=tu.prototype[t]}),i.opts=i.preprocessOpts(t),i._data="",i._hasWritten=!1,i._readableState.objectMode?i.initObjectModeParse():i.opts.ndjson?i.initNDJSONParse():i.initJSONParser(),i.opts.withBOM&&i.push("\uFEFF"),i.opts.fields&&(i.opts.fields=i.preprocessFieldsInfo(i.opts.fields),i.pushHeader()),i}return l(e,t),f(e,[{key:"initObjectModeParse",value:function(){var t=this;this.parser={write:function(e){t.pushLine(e)},getPendingData:function(){}}}},{key:"initNDJSONParse",value:function(){var t=this;this.parser={_data:"",write:function(e){this._data+=e.toString();var r=this._data.split("\n").map(function(t){return t.trim()}).filter(function(t){return""!==t}),i=!1;r.forEach(function(e,n){try{t.pushLine(JSON.parse(e))}catch(s){n===r.length-1?i=!0:(s.message="Invalid JSON (".concat(e,")"),t.emit("error",s))}}),this._data=i?this._data.slice(this._data.lastIndexOf("\n")):""},getPendingData:function(){return this._data}}}},{key:"initJSONParser",value:function(){var t=this;this.parser=new tW,this.parser.onValue=function(e){this.stack.length===this.depthToEmit&&t.pushLine(e)},this.parser._onToken=this.parser.onToken,this.parser.onToken=function(e,r){t.parser._onToken(e,r),0!==this.stack.length||t.opts.fields||this.mode===tW.C.ARRAY||this.mode===tW.C.OBJECT||this.onError(Error('Data should not be empty or the "fields" option should be included')),1===this.stack.length&&(void 0===this.depthToEmit&&(this.depthToEmit=+(this.mode===tW.C.ARRAY)),0!==this.depthToEmit&&1===this.stack.length&&(this.value=void 0))},this.parser.getPendingData=function(){return this.value},this.parser.onError=function(e){e.message.includes("Unexpected")&&(e.message="Invalid JSON (".concat(e.message,")")),t.emit("error",e)}}},{key:"_transform",value:function(t,e,r){this.parser.write(t),r()}},{key:"_flush",value:function(t){this.parser.getPendingData()&&t(Error("Invalid data received from stdin",this.parser.getPendingData())),t()}},{key:"pushHeader",value:function(){if(this.opts.header){var t=this.getHeader();this.emit("header",t),this.push(t),this._hasWritten=!0}}},{key:"pushLine",value:function(t){var e=this,r=this.preprocessRow(t);this._hasWritten||(this.opts.fields=this.opts.fields||this.preprocessFieldsInfo(Object.keys(r[0])),this.pushHeader()),r.forEach(function(t){var r=e.processRow(t,e.opts);void 0!==r&&(e.emit("line",r),e.push(e._hasWritten?e.opts.eol+r:r),e._hasWritten=!0)})}}]),e}(n().Transform),tz=n().Transform,tX=tn.fastJoin,tZ=function(){function t(e,r){u(this,t),this.input=new tz(r),this.input._read=function(){},this.transform=new tK(e,r),this.processor=this.input.pipe(this.transform)}return f(t,[{key:"fromInput",value:function(t){if(this._input)throw Error("Async parser already has an input.");return this._input=t,this.input=this._input.pipe(this.processor),this}},{key:"throughTransform",value:function(t){if(this._output)throw Error("Can't add transforms once an output has been added.");return this.processor=this.processor.pipe(t),this}},{key:"toOutput",value:function(t){if(this._output)throw Error("Async parser already has an output.");return this._output=t,this.processor=this.processor.pipe(t),this}},{key:"promise",value:function(){var t=this,e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return new Promise(function(r,i){if(!e){t.processor.on("finish",function(){return r()}).on("error",function(t){return i(t)});return}var n=[];t.processor.on("data",function(t){return n.push(t.toString())}).on("finish",function(){return r(tX(n,""))}).on("error",function(t){return i(t)})})}}]),t}(),t0=tn.setProp,t1=tn.unsetProp,t3=tn.flattenReducer,t4=n().Readable,t2=tc,t5=tZ,t6=tK,t9=function(t,e){return new tc(e).parse(t)},t8=function(t,e,r){try{t instanceof t4||(r=Object.assign({},r,{objectMode:!0}));var i=new tZ(e,r),n=i.promise();return Array.isArray(t)?(t.forEach(function(t){return i.input.push(t)}),i.input.push(null)):t instanceof t4?i.fromInput(t):(i.input.push(t),i.input.push(null)),n}catch(t){return Promise.reject(t)}},t7={flatten:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.objects,r=void 0===e||e,i=t.arrays,n=void 0!==i&&i,s=t.separator,o=void 0===s?".":s;return function(t){return function t(e,i,s){return Object.keys(e).forEach(function(u){var h=s?"".concat(s).concat(o).concat(u):u,f=e[u];if(r&&"object"===a(f)&&null!==f&&!Array.isArray(f)&&"[object Function]"!==Object.prototype.toString.call(f.toJSON)&&Object.keys(f).length||n&&Array.isArray(f)){t(f,i,h);return}i[h]=f}),i}(t,{})}},unwind:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.paths,r=void 0===e?void 0:e,i=t.blankOut,n=void 0!==i&&i;function s(t,e){return t.map(function(t){var r=ti(t,e);return Array.isArray(r)?r.length?r.map(function(r,i){return t0(n&&i>0?{}:t,e,r)}):t1(t,e):t}).reduce(t3,[])}return r=Array.isArray(r)?r:r?[r]:void 0,function(t){return(r||function t(e,r){return Object.keys(e).reduce(function(i,n){var s=r?"".concat(r,".").concat(n):n,o=e[n];return"object"===a(o)&&null!==o&&!Array.isArray(o)&&"[object Function]"!==Object.prototype.toString.call(o.toJSON)&&Object.keys(o).length?i=i.concat(t(o,s)):Array.isArray(o)&&(i.push(s),i=i.concat(o.map(function(e){return t(e,s)}).reduce(t3,[]).filter(function(t,e,r){return r.indexOf(t)!==e}))),i},[])}(t)).reduce(s,[t])}}};let et={Parser:t2,AsyncParser:t5,Transform:t6,parse:t9,parseAsync:t8,transforms:t7}}};